Project Path: Nexus

Source Tree:

```txt
Nexus
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”œâ”€â”€ AddPanelModal.jsx
â”‚   â”‚   â”œâ”€â”€ CommandPalette.jsx
â”‚   â”‚   â”œâ”€â”€ PanelContainer.jsx
â”‚   â”‚   â”œâ”€â”€ PanelHeader.jsx
â”‚   â”‚   â”œâ”€â”€ Shell.jsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚   â””â”€â”€ Workspace.jsx
â”‚   â”œâ”€â”€ context
â”‚   â”‚   â””â”€â”€ StudioContext.jsx
â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â””â”€â”€ useDragDrop.js
â”‚   â”œâ”€â”€ index.css
â”‚   â”œâ”€â”€ main.jsx
â”‚   â””â”€â”€ panels
â”‚       â”œâ”€â”€ BasePanelInterface.js
â”‚       â”œâ”€â”€ DummyCanvasPanel.jsx
â”‚       â”œâ”€â”€ DummyChatPanel.jsx
â”‚       â”œâ”€â”€ DummyCodePanel.jsx
â”‚       â”œâ”€â”€ DummyFlowchartPanel.jsx
â”‚       â”œâ”€â”€ DummyKanbanPanel.jsx
â”‚       â”œâ”€â”€ DummyNotesPanel.jsx
â”‚       â””â”€â”€ registry.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ vite.config.js

```

`Nexus/index.html`:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŽ¨</text></svg>" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GraphStudio IDE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
```

`Nexus/package.json`:

```json
{
    "name": "graphical-ide",
    "private": true,
    "version": "1.0.0",
    "type": "module",
    "scripts": {
      "dev": "vite",
      "build": "vite build",
      "preview": "vite preview"
    },
    "dependencies": {
      "react": "^18.2.0",
      "react-dom": "^18.2.0",
      "lucide-react": "^0.263.1",
      "zustand": "^4.4.0",
      "framer-motion": "^10.16.0"
    },
    "devDependencies": {
      "@vitejs/plugin-react": "^4.0.0",
      "vite": "^4.4.0",
      "tailwindcss": "^3.3.0",
      "postcss": "^8.4.0",
      "autoprefixer": "^10.4.0"
    }
  }
```

`Nexus/postcss.config.js`:

```js
export default {
    plugins: {
      tailwindcss: {},
      autoprefixer: {},
    },
  }
```

`Nexus/src/App.jsx`:

```jsx
import React from 'react';
import Shell from './components/Shell';

/**
 * App - Root component of GraphStudio IDE
 * 
 * The app uses a Shell pattern where the Shell component
 * manages the overall layout and coordinates between panels.
 */
function App() {
  return <Shell />;
}

export default App;
```

`Nexus/src/components/AddPanelModal.jsx`:

```jsx
import React, { useState, useEffect, useRef } from 'react';
import { X, Search, Plus, Sparkles } from 'lucide-react';
import useStudioStore from '../context/StudioContext';
import { getAllPanelDefinitions, getPanelsByCategories } from '../panels/registry';
import { PanelCategories } from '../panels/BasePanelInterface';

/**
 * AddPanelModal - Modal for adding new panels to the workspace
 * 
 * Displays all available panel types organized by category
 * with search functionality
 */
export default function AddPanelModal() {
  const { closeAddPanelModal, addPanel, setFocusedPanel } = useStudioStore();
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [hoveredPanel, setHoveredPanel] = useState(null);
  const inputRef = useRef(null);
  
  // Focus search input on mount
  useEffect(() => {
    inputRef.current?.focus();
  }, []);
  
  // Get all panel definitions
  const allPanels = getAllPanelDefinitions();
  const panelsByCategory = getPanelsByCategories();
  
  // Category labels
  const categoryLabels = {
    [PanelCategories.CREATION]: { label: 'Creation', description: 'Create and design' },
    [PanelCategories.DATA]: { label: 'Data & Notes', description: 'Manage information' },
    [PanelCategories.AI]: { label: 'AI & Assistant', description: 'AI-powered tools' },
    [PanelCategories.UTILITY]: { label: 'Utilities', description: 'Tools and settings' },
    [PanelCategories.PREVIEW]: { label: 'Preview', description: 'View outputs' },
  };
  
  // Filter panels by search query
  const filteredPanels = allPanels.filter(panel => {
    const matchesSearch = 
      panel.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
      panel.description.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesCategory = selectedCategory === 'all' || panel.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });
  
  // Group filtered panels by category
  const filteredByCategory = {};
  filteredPanels.forEach(panel => {
    if (!filteredByCategory[panel.category]) {
      filteredByCategory[panel.category] = [];
    }
    filteredByCategory[panel.category].push(panel);
  });
  
  // Handle panel selection
  const handleAddPanel = (panelDef) => {
    const initialState = panelDef.getInitialState?.() || {};
    const newPanelId = addPanel(panelDef.id, { 
      ...initialState, 
      title: panelDef.name 
    });
    setFocusedPanel(newPanelId);
    closeAddPanelModal();
  };
  
  // Keyboard handling
  const handleKeyDown = (e) => {
    if (e.key === 'Escape') {
      closeAddPanelModal();
    }
  };
  
  // Accent color classes
  const accentColorClasses = {
    violet: 'from-violet-500 to-violet-600 shadow-violet-500/25',
    cyan: 'from-cyan-500 to-cyan-600 shadow-cyan-500/25',
    amber: 'from-amber-500 to-amber-600 shadow-amber-500/25',
    green: 'from-green-500 to-green-600 shadow-green-500/25',
    blue: 'from-blue-500 to-blue-600 shadow-blue-500/25',
    emerald: 'from-emerald-500 to-emerald-600 shadow-emerald-500/25',
    pink: 'from-pink-500 to-pink-600 shadow-pink-500/25',
  };
  
  const accentBorderClasses = {
    violet: 'border-violet-500/30 hover:border-violet-500/50',
    cyan: 'border-cyan-500/30 hover:border-cyan-500/50',
    amber: 'border-amber-500/30 hover:border-amber-500/50',
    green: 'border-green-500/30 hover:border-green-500/50',
    blue: 'border-blue-500/30 hover:border-blue-500/50',
    emerald: 'border-emerald-500/30 hover:border-emerald-500/50',
    pink: 'border-pink-500/30 hover:border-pink-500/50',
  };

  return (
    <div 
      className="fixed inset-0 z-50 flex items-center justify-center p-4"
      onKeyDown={handleKeyDown}
    >
      {/* Backdrop */}
      <div 
        className="absolute inset-0 bg-black/70 backdrop-blur-sm animate-fade-in"
        onClick={closeAddPanelModal}
      />
      
      {/* Modal */}
      <div className="relative w-full max-w-3xl animate-slide-up">
        <div className="rounded-2xl bg-zinc-900/95 backdrop-blur-xl border border-white/10 shadow-2xl shadow-black/50 overflow-hidden">
          {/* Header */}
          <div className="flex items-center justify-between px-6 py-4 border-b border-white/5">
            <div>
              <h2 className="text-lg font-semibold text-white flex items-center gap-2">
                <Plus size={20} className="text-violet-400" />
                Add Panel
              </h2>
              <p className="text-sm text-zinc-500 mt-0.5">
                Choose a panel type to add to your workspace
              </p>
            </div>
            <button
              onClick={closeAddPanelModal}
              className="p-2 rounded-lg text-zinc-500 hover:text-white hover:bg-white/10 transition-colors"
            >
              <X size={20} />
            </button>
          </div>
          
          {/* Search & Filter */}
          <div className="px-6 py-4 border-b border-white/5 space-y-4">
            {/* Search input */}
            <div className="flex items-center gap-3 px-4 py-3 rounded-xl bg-black/30 border border-white/5 focus-within:border-violet-500/50 transition-colors">
              <Search size={18} className="text-zinc-500" />
              <input
                ref={inputRef}
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder="Search panels..."
                className="flex-1 text-sm text-white placeholder-zinc-500 bg-transparent outline-none"
              />
            </div>
            
            {/* Category tabs */}
            <div className="flex items-center gap-2 overflow-x-auto hide-scrollbar">
              <button
                onClick={() => setSelectedCategory('all')}
                className={`
                  px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors
                  ${selectedCategory === 'all' 
                    ? 'bg-violet-500/20 text-violet-300 border border-violet-500/30' 
                    : 'text-zinc-400 hover:text-white hover:bg-white/5'
                  }
                `}
              >
                All Panels
              </button>
              
              {Object.entries(categoryLabels).map(([key, { label }]) => (
                panelsByCategory[key] && (
                  <button
                    key={key}
                    onClick={() => setSelectedCategory(key)}
                    className={`
                      px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors
                      ${selectedCategory === key 
                        ? 'bg-violet-500/20 text-violet-300 border border-violet-500/30' 
                        : 'text-zinc-400 hover:text-white hover:bg-white/5'
                      }
                    `}
                  >
                    {label}
                  </button>
                )
              ))}
            </div>
          </div>
          
          {/* Panel grid */}
          <div className="p-6 max-h-[50vh] overflow-y-auto">
            {filteredPanels.length === 0 ? (
              <div className="text-center py-12">
                <Search size={48} className="mx-auto mb-4 text-zinc-700" />
                <p className="text-zinc-500">No panels found</p>
                <p className="text-sm text-zinc-600 mt-1">Try a different search term</p>
              </div>
            ) : (
              <div className="space-y-6">
                {Object.entries(filteredByCategory).map(([category, panels]) => (
                  <div key={category}>
                    {/* Category header */}
                    <div className="flex items-center gap-2 mb-3">
                      <h3 className="text-sm font-medium text-zinc-400">
                        {categoryLabels[category]?.label || category}
                      </h3>
                      <span className="px-2 py-0.5 rounded-full bg-white/5 text-xs text-zinc-500">
                        {panels.length}
                      </span>
                    </div>
                    
                    {/* Panel cards */}
                    <div className="grid grid-cols-2 gap-3">
                      {panels.map((panelDef) => {
                        const Icon = panelDef.icon;
                        const accentGradient = accentColorClasses[panelDef.accentColor] || accentColorClasses.violet;
                        const accentBorder = accentBorderClasses[panelDef.accentColor] || accentBorderClasses.violet;
                        const isHovered = hoveredPanel === panelDef.id;
                        
                        return (
                          <button
                            key={panelDef.id}
                            onClick={() => handleAddPanel(panelDef)}
                            onMouseEnter={() => setHoveredPanel(panelDef.id)}
                            onMouseLeave={() => setHoveredPanel(null)}
                            className={`
                              group relative flex items-start gap-4 p-4 rounded-xl
                              bg-zinc-800/50 border transition-all duration-200
                              hover:bg-zinc-800 hover:shadow-lg
                              ${accentBorder}
                            `}
                          >
                            {/* Icon */}
                            <div className={`
                              p-3 rounded-xl bg-gradient-to-br shadow-lg transition-transform
                              ${accentGradient}
                              ${isHovered ? 'scale-110' : ''}
                            `}>
                              <Icon size={20} className="text-white" />
                            </div>
                            
                            {/* Content */}
                            <div className="flex-1 text-left">
                              <h4 className="text-sm font-semibold text-white group-hover:text-violet-300 transition-colors">
                                {panelDef.name}
                              </h4>
                              <p className="text-xs text-zinc-500 mt-1 line-clamp-2">
                                {panelDef.description}
                              </p>
                            </div>
                            
                            {/* Add indicator */}
                            <div className={`
                              absolute top-2 right-2 p-1.5 rounded-lg
                              bg-white/5 text-zinc-500
                              opacity-0 group-hover:opacity-100 transition-opacity
                            `}>
                              <Plus size={14} />
                            </div>
                          </button>
                        );
                      })}
                    </div>
                  </div>
                ))}
              </div>
            )}
          </div>
          
          {/* Footer */}
          <div className="flex items-center justify-between px-6 py-4 border-t border-white/5 bg-black/20">
            <div className="flex items-center gap-2 text-xs text-zinc-600">
              <Sparkles size={14} />
              <span>Panels integrate with AI for contextual assistance</span>
            </div>
            <div className="flex items-center gap-2">
              <kbd className="px-2 py-1 rounded bg-zinc-800 text-zinc-500 text-xs font-mono">
                esc
              </kbd>
              <span className="text-xs text-zinc-600">to close</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

`Nexus/src/components/CommandPalette.jsx`:

```jsx
import React, { useState, useEffect, useRef, useMemo } from 'react';
import { 
  Search, 
  Command,
  ArrowRight,
  Plus,
  Eye,
  EyeOff,
  Maximize2,
  Trash2,
  Download,
  Settings,
  HelpCircle,
  Sparkles,
  Layout
} from 'lucide-react';
import useStudioStore from '../context/StudioContext';
import { getAllPanelDefinitions, getPanelDefinition } from '../panels/registry';

/**
 * CommandPalette - Quick action dialog (âŒ˜K)
 * 
 * Provides:
 * - Panel actions (show/hide/focus)
 * - Global commands
 * - Panel-specific actions
 * - Fuzzy search
 */
export default function CommandPalette() {
  const { 
    closeCommandPalette, 
    panels,
    updatePanelMode,
    setFocusedPanel,
    removePanel,
    openAddPanelModal
  } = useStudioStore();
  
  const [query, setQuery] = useState('');
  const [selectedIndex, setSelectedIndex] = useState(0);
  const inputRef = useRef(null);
  const listRef = useRef(null);
  
  // Focus input on mount
  useEffect(() => {
    inputRef.current?.focus();
  }, []);
  
  // Build command list
  const commands = useMemo(() => {
    const cmds = [];
    
    // Global commands
    cmds.push({
      id: 'add-panel',
      label: 'Add New Panel',
      description: 'Create a new panel in the workspace',
      icon: Plus,
      category: 'Global',
      action: () => {
        closeCommandPalette();
        openAddPanelModal();
      }
    });
    
    cmds.push({
      id: 'settings',
      label: 'Open Settings',
      description: 'Configure IDE settings',
      icon: Settings,
      category: 'Global',
      action: () => {
        closeCommandPalette();
        // TODO: Open settings
      }
    });
    
    cmds.push({
      id: 'help',
      label: 'Help & Documentation',
      description: 'View help and keyboard shortcuts',
      icon: HelpCircle,
      category: 'Global',
      action: () => {
        closeCommandPalette();
        // TODO: Open help
      }
    });
    
    // Panel commands
    panels.forEach(panel => {
      const panelDef = getPanelDefinition(panel.panelTypeId);
      if (!panelDef) return;
      
      const Icon = panelDef.icon;
      
      // Show/Hide panel
      if (panel.mode === 'hidden') {
        cmds.push({
          id: `show-${panel.id}`,
          label: `Show ${panel.title}`,
          description: `Show the ${panel.title} panel`,
          icon: Eye,
          panelIcon: Icon,
          category: 'Panels',
          action: () => {
            updatePanelMode(panel.id, 'flexible');
            setFocusedPanel(panel.id);
            closeCommandPalette();
          }
        });
      } else {
        cmds.push({
          id: `hide-${panel.id}`,
          label: `Hide ${panel.title}`,
          description: `Hide the ${panel.title} panel`,
          icon: EyeOff,
          panelIcon: Icon,
          category: 'Panels',
          action: () => {
            updatePanelMode(panel.id, 'hidden');
            closeCommandPalette();
          }
        });
        
        cmds.push({
          id: `focus-${panel.id}`,
          label: `Focus ${panel.title}`,
          description: `Bring ${panel.title} into focus`,
          icon: Maximize2,
          panelIcon: Icon,
          category: 'Panels',
          action: () => {
            setFocusedPanel(panel.id);
            closeCommandPalette();
          }
        });
      }
      
      // Remove panel
      cmds.push({
        id: `remove-${panel.id}`,
        label: `Remove ${panel.title}`,
        description: `Permanently remove the ${panel.title} panel`,
        icon: Trash2,
        panelIcon: Icon,
        category: 'Panels',
        danger: true,
        action: () => {
          removePanel(panel.id);
          closeCommandPalette();
        }
      });
      
      // Panel-specific actions
      panelDef.actions?.forEach(action => {
        cmds.push({
          id: `${panel.id}-${action.id}`,
          label: action.label,
          description: `${panel.title}: ${action.label}`,
          icon: Sparkles,
          panelIcon: Icon,
          category: panel.title,
          shortcut: action.shortcut,
          action: () => {
            action.handler?.(panel.state, (newState) => {
              // updatePanelState would be called here
            });
            closeCommandPalette();
          }
        });
      });
    });
    
    // Add panel type shortcuts
    getAllPanelDefinitions().forEach(panelDef => {
      cmds.push({
        id: `create-${panelDef.id}`,
        label: `New ${panelDef.name}`,
        description: panelDef.description,
        icon: Plus,
        panelIcon: panelDef.icon,
        category: 'Create',
        action: () => {
          closeCommandPalette();
          openAddPanelModal();
        }
      });
    });
    
    return cmds;
  }, [panels, closeCommandPalette, updatePanelMode, setFocusedPanel, removePanel, openAddPanelModal]);
  
  // Filter commands by query
  const filteredCommands = useMemo(() => {
    if (!query.trim()) return commands;
    
    const q = query.toLowerCase();
    return commands.filter(cmd => 
      cmd.label.toLowerCase().includes(q) ||
      cmd.description?.toLowerCase().includes(q) ||
      cmd.category?.toLowerCase().includes(q)
    );
  }, [commands, query]);
  
  // Group commands by category
  const groupedCommands = useMemo(() => {
    const groups = {};
    filteredCommands.forEach(cmd => {
      const cat = cmd.category || 'Other';
      if (!groups[cat]) groups[cat] = [];
      groups[cat].push(cmd);
    });
    return groups;
  }, [filteredCommands]);
  
  // Flatten for keyboard navigation
  const flatCommands = useMemo(() => {
    return Object.values(groupedCommands).flat();
  }, [groupedCommands]);
  
  // Reset selection when query changes
  useEffect(() => {
    setSelectedIndex(0);
  }, [query]);
  
  // Keyboard navigation
  const handleKeyDown = (e) => {
    switch (e.key) {
      case 'ArrowDown':
        e.preventDefault();
        setSelectedIndex(i => Math.min(i + 1, flatCommands.length - 1));
        break;
      case 'ArrowUp':
        e.preventDefault();
        setSelectedIndex(i => Math.max(i - 1, 0));
        break;
      case 'Enter':
        e.preventDefault();
        if (flatCommands[selectedIndex]) {
          flatCommands[selectedIndex].action();
        }
        break;
      case 'Escape':
        e.preventDefault();
        closeCommandPalette();
        break;
    }
  };
  
  // Scroll selected item into view
  useEffect(() => {
    const selectedEl = listRef.current?.querySelector(`[data-index="${selectedIndex}"]`);
    selectedEl?.scrollIntoView({ block: 'nearest' });
  }, [selectedIndex]);

  return (
    <div className="fixed inset-0 z-50 flex items-start justify-center pt-[15vh]">
      {/* Backdrop */}
      <div 
        className="absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in"
        onClick={closeCommandPalette}
      />
      
      {/* Modal */}
      <div className="relative w-full max-w-xl mx-4 animate-slide-up">
        <div className="rounded-2xl bg-zinc-900/95 backdrop-blur-xl border border-white/10 shadow-2xl shadow-black/50 overflow-hidden">
          {/* Search input */}
          <div className="flex items-center gap-3 px-4 py-4 border-b border-white/5">
            <div className="p-2 rounded-lg bg-violet-500/10">
              <Command size={18} className="text-violet-400" />
            </div>
            <input
              ref={inputRef}
              type="text"
              value={query}
              onChange={(e) => setQuery(e.target.value)}
              onKeyDown={handleKeyDown}
              placeholder="Type a command or search..."
              className="flex-1 text-base text-white placeholder-zinc-500 bg-transparent outline-none"
            />
            <kbd className="px-2 py-1 rounded bg-zinc-800 text-zinc-500 text-xs font-mono">
              esc
            </kbd>
          </div>
          
          {/* Command list */}
          <div ref={listRef} className="max-h-[50vh] overflow-y-auto py-2">
            {flatCommands.length === 0 ? (
              <div className="px-4 py-8 text-center">
                <Search size={32} className="mx-auto mb-3 text-zinc-600" />
                <p className="text-sm text-zinc-500">No commands found</p>
                <p className="text-xs text-zinc-600 mt-1">Try a different search term</p>
              </div>
            ) : (
              Object.entries(groupedCommands).map(([category, cmds]) => (
                <div key={category}>
                  {/* Category header */}
                  <div className="px-4 py-2 text-xs font-medium text-zinc-500 uppercase tracking-wider">
                    {category}
                  </div>
                  
                  {/* Commands */}
                  {cmds.map((cmd, idx) => {
                    const globalIdx = flatCommands.indexOf(cmd);
                    const isSelected = globalIdx === selectedIndex;
                    const Icon = cmd.icon;
                    const PanelIcon = cmd.panelIcon;
                    
                    return (
                      <button
                        key={cmd.id}
                        data-index={globalIdx}
                        onClick={cmd.action}
                        onMouseEnter={() => setSelectedIndex(globalIdx)}
                        className={`
                          w-full flex items-center gap-3 px-4 py-2.5 transition-colors
                          ${isSelected ? 'bg-violet-500/10' : 'hover:bg-white/5'}
                          ${cmd.danger ? 'hover:bg-red-500/10' : ''}
                        `}
                      >
                        {/* Icon */}
                        <div className={`
                          p-2 rounded-lg 
                          ${isSelected 
                            ? cmd.danger ? 'bg-red-500/20' : 'bg-violet-500/20' 
                            : 'bg-white/5'
                          }
                        `}>
                          <Icon 
                            size={16} 
                            className={
                              isSelected 
                                ? cmd.danger ? 'text-red-400' : 'text-violet-400' 
                                : 'text-zinc-400'
                            } 
                          />
                        </div>
                        
                        {/* Label & description */}
                        <div className="flex-1 text-left">
                          <div className={`text-sm font-medium ${isSelected ? cmd.danger ? 'text-red-300' : 'text-white' : 'text-zinc-300'}`}>
                            {cmd.label}
                          </div>
                          {cmd.description && (
                            <div className="text-xs text-zinc-500 mt-0.5">
                              {cmd.description}
                            </div>
                          )}
                        </div>
                        
                        {/* Panel icon */}
                        {PanelIcon && (
                          <PanelIcon size={14} className="text-zinc-600" />
                        )}
                        
                        {/* Shortcut */}
                        {cmd.shortcut && (
                          <kbd className="px-2 py-0.5 rounded bg-zinc-800 text-zinc-500 text-xs font-mono">
                            {cmd.shortcut}
                          </kbd>
                        )}
                        
                        {/* Arrow */}
                        {isSelected && (
                          <ArrowRight size={14} className={cmd.danger ? 'text-red-400' : 'text-violet-400'} />
                        )}
                      </button>
                    );
                  })}
                </div>
              ))
            )}
          </div>
          
          {/* Footer */}
          <div className="flex items-center justify-between px-4 py-3 border-t border-white/5 bg-black/20">
            <div className="flex items-center gap-4 text-xs text-zinc-600">
              <span className="flex items-center gap-1.5">
                <kbd className="px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-500">â†‘â†“</kbd>
                Navigate
              </span>
              <span className="flex items-center gap-1.5">
                <kbd className="px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-500">â†µ</kbd>
                Select
              </span>
            </div>
            <div className="flex items-center gap-2">
              <Layout size={12} className="text-zinc-600" />
              <span className="text-xs text-zinc-600">GraphStudio</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

`Nexus/src/components/PanelContainer.jsx`:

```jsx
import React, { useCallback } from 'react';
import useStudioStore from '../context/StudioContext';
import { getPanelDefinition } from '../panels/registry';
import { useDropTarget } from '../hooks/useDragDrop';
import PanelHeader from './PanelHeader';

/**
 * PanelContainer - Wrapper for panel content with consistent styling
 * 
 * Handles:
 * - Panel chrome (header, controls)
 * - Drag & drop target
 * - Focus management
 * - Mode-specific rendering
 */
export default function PanelContainer({ panel, widthClass, isFocused }) {
  const { 
    updatePanelState, 
    setFocusedPanel,
    updatePanelMode,
  } = useStudioStore();
  
  // Get panel definition
  const panelDef = getPanelDefinition(panel.panelTypeId);
  
  // Setup drop target
  const { isOver, dropProps } = useDropTarget(
    panel.id, 
    panel.panelTypeId, 
    panel.state, 
    (newState) => updatePanelState(panel.id, newState)
  );
  
  // Handle panel focus
  const handleFocus = useCallback(() => {
    setFocusedPanel(panel.id);
  }, [panel.id, setFocusedPanel]);
  
  // Update state callback for panel
  const updateState = useCallback((newState) => {
    updatePanelState(panel.id, newState);
  }, [panel.id, updatePanelState]);
  
  if (!panelDef) {
    return (
      <div className={`${widthClass} rounded-2xl bg-zinc-900 border border-white/10 p-4`}>
        <p className="text-red-400">Unknown panel type: {panel.panelTypeId}</p>
      </div>
    );
  }
  
  // Get accent color
  const accentColors = {
    violet: 'from-violet-500/20 to-violet-500/5 border-violet-500/30',
    cyan: 'from-cyan-500/20 to-cyan-500/5 border-cyan-500/30',
    amber: 'from-amber-500/20 to-amber-500/5 border-amber-500/30',
    green: 'from-green-500/20 to-green-500/5 border-green-500/30',
    blue: 'from-blue-500/20 to-blue-500/5 border-blue-500/30',
    emerald: 'from-emerald-500/20 to-emerald-500/5 border-emerald-500/30',
    pink: 'from-pink-500/20 to-pink-500/5 border-pink-500/30',
  };
  
  const accent = accentColors[panelDef.accentColor] || accentColors.violet;
  
  // Minimized mode - render as a thin bar
  if (panel.mode === 'minimized') {
    return (
      <div
        onClick={() => updatePanelMode(panel.id, 'flexible')}
        className={`
          ${widthClass} h-full flex flex-col items-center py-4 gap-3
          rounded-2xl bg-zinc-900/80 backdrop-blur border border-white/10
          cursor-pointer hover:bg-zinc-800/80 transition-all
        `}
      >
        {/* Icon */}
        <div className={`p-2 rounded-lg bg-gradient-to-br ${accent.split(' ')[0]} ${accent.split(' ')[1]}`}>
          <panelDef.icon size={16} className="text-white" />
        </div>
        
        {/* Vertical title */}
        <span className="text-xs font-medium text-zinc-400 vertical-text">
          {panel.title}
        </span>
      </div>
    );
  }

  return (
    <div
      {...dropProps}
      onClick={handleFocus}
      className={`
        ${widthClass} h-full flex flex-col
        rounded-2xl overflow-hidden
        bg-zinc-900/80 backdrop-blur-xl
        border transition-all duration-300
        ${isFocused 
          ? `border-white/20 shadow-lg shadow-black/50` 
          : 'border-white/5 hover:border-white/10'
        }
        ${isOver ? 'ring-2 ring-violet-500/50 ring-offset-2 ring-offset-[#0a0a0c]' : ''}
        ${panel.isAIObserving ? 'glow-active' : ''}
      `}
    >
      {/* Header */}
      <PanelHeader 
        panel={panel} 
        panelDef={panelDef} 
        isFocused={isFocused}
      />
      
      {/* Content */}
      <div className="flex-1 overflow-hidden">
        {panelDef.renderMainView({
          panelState: panel.state,
          updateState,
          isFocused,
          panelId: panel.id,
        })}
      </div>
      
      {/* Drop indicator overlay */}
      {isOver && (
        <div className="absolute inset-0 bg-violet-500/10 pointer-events-none flex items-center justify-center">
          <div className="px-4 py-2 rounded-lg bg-violet-500/20 border border-violet-500/50 text-violet-300 text-sm font-medium">
            Drop here
          </div>
        </div>
      )}
    </div>
  );
}
```

`Nexus/src/components/PanelHeader.jsx`:

```jsx
import React, { useState } from 'react';
import { 
  Maximize2, 
  Minimize2, 
  X, 
  Eye, 
  EyeOff, 
  MoreHorizontal,
  Sparkles,
  Download,
  Copy,
  Settings,
  ChevronDown
} from 'lucide-react';
import useStudioStore from '../context/StudioContext';

/**
 * PanelHeader - Header bar for panel with title, controls, and actions
 */
export default function PanelHeader({ panel, panelDef, isFocused }) {
  const { 
    updatePanelMode, 
    updatePanelTitle,
    removePanel,
    setAIObserving 
  } = useStudioStore();
  
  const [isEditing, setIsEditing] = useState(false);
  const [editTitle, setEditTitle] = useState(panel.title);
  const [showMenu, setShowMenu] = useState(false);
  
  // Accent color classes
  const accentColors = {
    violet: 'text-violet-400 bg-violet-500/10',
    cyan: 'text-cyan-400 bg-cyan-500/10',
    amber: 'text-amber-400 bg-amber-500/10',
    green: 'text-green-400 bg-green-500/10',
    blue: 'text-blue-400 bg-blue-500/10',
    emerald: 'text-emerald-400 bg-emerald-500/10',
    pink: 'text-pink-400 bg-pink-500/10',
  };
  
  const accent = accentColors[panelDef.accentColor] || accentColors.violet;
  
  const handleTitleSubmit = () => {
    if (editTitle.trim()) {
      updatePanelTitle(panel.id, editTitle.trim());
    } else {
      setEditTitle(panel.title);
    }
    setIsEditing(false);
  };
  
  const handleKeyDown = (e) => {
    if (e.key === 'Enter') {
      handleTitleSubmit();
    } else if (e.key === 'Escape') {
      setEditTitle(panel.title);
      setIsEditing(false);
    }
  };
  
  const toggleMode = () => {
    if (panel.mode === 'fullscreen') {
      updatePanelMode(panel.id, 'flexible');
    } else {
      updatePanelMode(panel.id, 'fullscreen');
    }
  };
  
  const minimizePanel = () => {
    updatePanelMode(panel.id, 'minimized');
  };
  
  const hidePanel = () => {
    updatePanelMode(panel.id, 'hidden');
  };
  
  const toggleAIObserving = () => {
    setAIObserving(panel.id, !panel.isAIObserving);
  };

  return (
    <div className={`
      flex items-center gap-2 px-4 py-3 
      border-b transition-colors
      ${isFocused ? 'border-white/10 bg-white/5' : 'border-white/5'}
    `}>
      {/* Panel Icon */}
      <div className={`p-1.5 rounded-lg ${accent}`}>
        <panelDef.icon size={14} />
      </div>
      
      {/* Title */}
      {isEditing ? (
        <input
          type="text"
          value={editTitle}
          onChange={(e) => setEditTitle(e.target.value)}
          onBlur={handleTitleSubmit}
          onKeyDown={handleKeyDown}
          className="flex-1 text-sm font-medium text-white bg-transparent border-b border-white/30 focus:border-violet-500 outline-none px-1"
          autoFocus
        />
      ) : (
        <h3 
          className="flex-1 text-sm font-medium text-zinc-200 truncate cursor-pointer hover:text-white transition-colors"
          onDoubleClick={() => setIsEditing(true)}
          title="Double-click to rename"
        >
          {panel.title}
        </h3>
      )}
      
      {/* AI Observing indicator */}
      {panel.isAIObserving && (
        <div className="flex items-center gap-1.5 px-2 py-1 rounded-full bg-cyan-500/10 border border-cyan-500/30">
          <Sparkles size={12} className="text-cyan-400" />
          <span className="text-xs text-cyan-400">AI Active</span>
        </div>
      )}
      
      {/* Control buttons */}
      <div className="flex items-center gap-1">
        {/* AI Toggle */}
        <button
          onClick={toggleAIObserving}
          className={`
            p-1.5 rounded-lg transition-all
            ${panel.isAIObserving 
              ? 'text-cyan-400 bg-cyan-500/10 hover:bg-cyan-500/20' 
              : 'text-zinc-500 hover:text-zinc-300 hover:bg-white/5'
            }
          `}
          title={panel.isAIObserving ? 'Disable AI observation' : 'Enable AI observation'}
        >
          {panel.isAIObserving ? <Eye size={14} /> : <EyeOff size={14} />}
        </button>
        
        {/* Minimize */}
        <button
          onClick={minimizePanel}
          className="p-1.5 rounded-lg text-zinc-500 hover:text-zinc-300 hover:bg-white/5 transition-all"
          title="Minimize"
        >
          <Minimize2 size={14} />
        </button>
        
        {/* Fullscreen toggle */}
        <button
          onClick={toggleMode}
          className="p-1.5 rounded-lg text-zinc-500 hover:text-zinc-300 hover:bg-white/5 transition-all"
          title={panel.mode === 'fullscreen' ? 'Exit fullscreen' : 'Fullscreen'}
        >
          <Maximize2 size={14} />
        </button>
        
        {/* More menu */}
        <div className="relative">
          <button
            onClick={() => setShowMenu(!showMenu)}
            className="p-1.5 rounded-lg text-zinc-500 hover:text-zinc-300 hover:bg-white/5 transition-all"
          >
            <MoreHorizontal size={14} />
          </button>
          
          {showMenu && (
            <>
              {/* Backdrop */}
              <div 
                className="fixed inset-0 z-40" 
                onClick={() => setShowMenu(false)} 
              />
              
              {/* Menu */}
              <div className="absolute right-0 top-full mt-1 w-48 py-1 rounded-xl bg-zinc-800/95 backdrop-blur border border-white/10 shadow-xl z-50 animate-scale-in">
                <button
                  onClick={() => { setIsEditing(true); setShowMenu(false); }}
                  className="w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors"
                >
                  <Settings size={14} />
                  Rename Panel
                </button>
                
                <button
                  onClick={() => { toggleAIObserving(); setShowMenu(false); }}
                  className="w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors"
                >
                  <Sparkles size={14} />
                  {panel.isAIObserving ? 'Disable' : 'Enable'} AI Context
                </button>
                
                {panelDef.exportFormats?.length > 0 && (
                  <button
                    className="w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors"
                  >
                    <Download size={14} />
                    Export
                    <ChevronDown size={12} className="ml-auto" />
                  </button>
                )}
                
                <button
                  className="w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors"
                >
                  <Copy size={14} />
                  Duplicate Panel
                </button>
                
                <div className="my-1 border-t border-white/10" />
                
                <button
                  onClick={() => { hidePanel(); setShowMenu(false); }}
                  className="w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/5 hover:text-white transition-colors"
                >
                  <EyeOff size={14} />
                  Hide Panel
                </button>
                
                <button
                  onClick={() => { removePanel(panel.id); setShowMenu(false); }}
                  className="w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-colors"
                >
                  <X size={14} />
                  Remove Panel
                </button>
              </div>
            </>
          )}
        </div>
        
        {/* Close */}
        <button
          onClick={hidePanel}
          className="p-1.5 rounded-lg text-zinc-500 hover:text-red-400 hover:bg-red-500/10 transition-all"
          title="Hide panel"
        >
          <X size={14} />
        </button>
      </div>
    </div>
  );
}
```

`Nexus/src/components/Shell.jsx`:

```jsx
import React, { useEffect } from 'react';
import useStudioStore, { useKeyboardShortcuts } from '../context/StudioContext';
import Sidebar from './Sidebar';
import Workspace from './Workspace';
import CommandPalette from './CommandPalette';
import AddPanelModal from './AddPanelModal';

/**
 * Shell - The main container/commander for the entire IDE
 * 
 * Responsibilities:
 * - Layout management
 * - Keyboard shortcuts
 * - Global modals (command palette, add panel)
 * - Cross-panel coordination
 */
export default function Shell() {
  // Initialize keyboard shortcuts
  useKeyboardShortcuts();
  
  const { commandPaletteOpen, addPanelModalOpen } = useStudioStore();
  
  return (
    <div className="flex h-screen w-full bg-[#0a0a0c] text-white overflow-hidden relative">
      {/* Background effects */}
      <div className="absolute inset-0 gradient-mesh pointer-events-none" />
      <div className="absolute inset-0 noise-overlay pointer-events-none" />
      
      {/* Main layout */}
      <div className="relative flex w-full z-10">
        {/* Left Sidebar (The Dock) */}
        <Sidebar />
        
        {/* Main Workspace */}
        <Workspace />
      </div>
      
      {/* Command Palette Modal */}
      {commandPaletteOpen && <CommandPalette />}
      
      {/* Add Panel Modal */}
      {addPanelModalOpen && <AddPanelModal />}
      
      {/* Keyboard shortcut hints */}
      <div className="fixed bottom-4 right-4 flex items-center gap-3 text-xs text-zinc-600 pointer-events-none z-50">
        <span className="flex items-center gap-1.5">
          <kbd className="px-1.5 py-0.5 rounded bg-zinc-800/80 text-zinc-500 font-mono">âŒ˜K</kbd>
          Command
        </span>
        <span className="flex items-center gap-1.5">
          <kbd className="px-1.5 py-0.5 rounded bg-zinc-800/80 text-zinc-500 font-mono">âŒ˜N</kbd>
          New Panel
        </span>
      </div>
    </div>
  );
}
```

`Nexus/src/components/Sidebar.jsx`:

```jsx
import React, { useState } from 'react';
import { Layout, Plus, Settings, HelpCircle, Sparkles } from 'lucide-react';
import useStudioStore from '../context/StudioContext';
import { getPanelDefinition } from '../panels/registry';

/**
 * Sidebar - The dock for panel icons and quick actions
 */
export default function Sidebar() {
  const { 
    panels, 
    updatePanelMode, 
    focusedPanelId,
    setFocusedPanel,
    openAddPanelModal,
    openCommandPalette 
  } = useStudioStore();
  
  const [hoveredPanel, setHoveredPanel] = useState(null);
  
  // Toggle panel visibility
  const togglePanel = (panelId, currentMode) => {
    if (currentMode === 'hidden') {
      updatePanelMode(panelId, 'flexible');
      setFocusedPanel(panelId);
    } else {
      updatePanelMode(panelId, 'hidden');
      if (focusedPanelId === panelId) {
        setFocusedPanel(null);
      }
    }
  };
  
  // Get accent color for panel
  const getAccentColor = (panelTypeId, isActive, isHovered) => {
    const panelDef = getPanelDefinition(panelTypeId);
    const color = panelDef?.accentColor || 'violet';
    
    const colors = {
      violet: { bg: 'bg-violet-500', ring: 'ring-violet-500', glow: 'shadow-violet-500/30' },
      cyan: { bg: 'bg-cyan-500', ring: 'ring-cyan-500', glow: 'shadow-cyan-500/30' },
      amber: { bg: 'bg-amber-500', ring: 'ring-amber-500', glow: 'shadow-amber-500/30' },
      green: { bg: 'bg-green-500', ring: 'ring-green-500', glow: 'shadow-green-500/30' },
      blue: { bg: 'bg-blue-500', ring: 'ring-blue-500', glow: 'shadow-blue-500/30' },
      emerald: { bg: 'bg-emerald-500', ring: 'ring-emerald-500', glow: 'shadow-emerald-500/30' },
      pink: { bg: 'bg-pink-500', ring: 'ring-pink-500', glow: 'shadow-pink-500/30' },
    };
    
    return colors[color] || colors.violet;
  };

  return (
    <div className="w-20 flex-shrink-0 flex flex-col items-center py-5 px-2 border-r border-white/5 bg-black/40 backdrop-blur-xl z-30">
      {/* Logo */}
      <div className="mb-6 relative group cursor-pointer" onClick={openCommandPalette}>
        <div className="w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center shadow-lg shadow-violet-500/20 group-hover:shadow-violet-500/40 transition-shadow">
          <Layout size={22} className="text-white" />
        </div>
        <div className="absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-gradient-to-br from-cyan-400 to-emerald-400 flex items-center justify-center">
          <Sparkles size={10} className="text-white" />
        </div>
        
        {/* Tooltip */}
        <div className="absolute left-full ml-3 top-1/2 -translate-y-1/2 px-3 py-1.5 rounded-lg bg-zinc-800 text-white text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none border border-white/10 shadow-xl">
          GraphStudio IDE
          <span className="block text-zinc-400 text-[10px] mt-0.5">Press âŒ˜K for commands</span>
        </div>
      </div>
      
      {/* Divider */}
      <div className="w-8 h-px bg-white/10 mb-4" />
      
      {/* Panel Icons */}
      <div className="flex-1 flex flex-col items-center gap-2 overflow-y-auto hide-scrollbar w-full">
        {panels.map((panel) => {
          const panelDef = getPanelDefinition(panel.panelTypeId);
          if (!panelDef) return null;
          
          const Icon = panelDef.icon;
          const isActive = panel.mode !== 'hidden';
          const isFocused = focusedPanelId === panel.id;
          const isHovered = hoveredPanel === panel.id;
          const colors = getAccentColor(panel.panelTypeId, isActive, isHovered);
          
          return (
            <div key={panel.id} className="relative w-full flex justify-center">
              <button
                onClick={() => togglePanel(panel.id, panel.mode)}
                onMouseEnter={() => setHoveredPanel(panel.id)}
                onMouseLeave={() => setHoveredPanel(null)}
                className={`
                  relative w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200
                  ${isActive 
                    ? `bg-white/10 ${colors.ring} ring-2 ring-offset-2 ring-offset-[#0a0a0c] shadow-lg ${colors.glow}` 
                    : 'bg-white/5 hover:bg-white/10 text-zinc-400 hover:text-white'
                  }
                  ${isFocused ? 'scale-110' : ''}
                `}
              >
                <Icon size={20} className={isActive ? 'text-white' : ''} />
                
                {/* Active indicator */}
                {isActive && (
                  <span className={`absolute -top-0.5 -right-0.5 w-2.5 h-2.5 rounded-full ${colors.bg} border-2 border-[#0a0a0c]`} />
                )}
                
                {/* AI observing indicator */}
                {panel.isAIObserving && (
                  <span className="absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full bg-cyan-400 border-2 border-[#0a0a0c] animate-pulse" />
                )}
              </button>
              
              {/* Tooltip */}
              <div className={`
                absolute left-full ml-3 top-1/2 -translate-y-1/2 z-50
                px-3 py-2 rounded-lg bg-zinc-800/95 backdrop-blur border border-white/10 shadow-xl
                whitespace-nowrap pointer-events-none
                transition-all duration-150
                ${isHovered ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-2'}
              `}>
                <div className="text-sm font-medium text-white">{panel.title}</div>
                <div className="text-xs text-zinc-400 mt-0.5">{panelDef.description}</div>
                <div className="text-[10px] text-zinc-500 mt-1">
                  {isActive ? 'Click to hide' : 'Click to show'}
                </div>
              </div>
            </div>
          );
        })}
        
        {/* Add Panel Button */}
        <button
          onClick={openAddPanelModal}
          className="w-12 h-12 rounded-xl border-2 border-dashed border-zinc-700 flex items-center justify-center text-zinc-500 hover:border-zinc-600 hover:text-zinc-400 hover:bg-white/5 transition-all mt-2 group"
        >
          <Plus size={20} />
          
          {/* Tooltip */}
          <div className="absolute left-full ml-3 top-1/2 -translate-y-1/2 z-50 px-3 py-1.5 rounded-lg bg-zinc-800 text-white text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none border border-white/10">
            Add Panel
            <span className="text-zinc-500 ml-2">âŒ˜N</span>
          </div>
        </button>
      </div>
      
      {/* Bottom actions */}
      <div className="flex flex-col items-center gap-2 mt-4 pt-4 border-t border-white/5">
        <button className="w-10 h-10 rounded-lg flex items-center justify-center text-zinc-500 hover:text-white hover:bg-white/10 transition-colors group relative">
          <HelpCircle size={18} />
          <div className="absolute left-full ml-3 px-2 py-1 rounded bg-zinc-800 text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
            Help
          </div>
        </button>
        <button className="w-10 h-10 rounded-lg flex items-center justify-center text-zinc-500 hover:text-white hover:bg-white/10 transition-colors group relative">
          <Settings size={18} />
          <div className="absolute left-full ml-3 px-2 py-1 rounded bg-zinc-800 text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
            Settings
          </div>
        </button>
      </div>
    </div>
  );
}
```

`Nexus/src/components/Workspace.jsx`:

```jsx
import React from 'react';
import { Layout, Plus } from 'lucide-react';
import useStudioStore from '../context/StudioContext';
import PanelContainer from './PanelContainer';

/**
 * Workspace - The main area where panels are displayed
 * 
 * Handles:
 * - Panel layout (flexible, fullscreen, minimized)
 * - Empty state
 * - Panel transitions
 */
export default function Workspace() {
  const { 
    panels, 
    activeFullscreenId, 
    focusedPanelId,
    openAddPanelModal 
  } = useStudioStore();
  
  // Get visible panels (not hidden)
  const visiblePanels = panels.filter(p => p.mode !== 'hidden');
  
  // Check if we have any panels at all
  const hasNoPanels = panels.length === 0;
  const hasNoVisiblePanels = visiblePanels.length === 0;

  return (
    <div className="flex-1 flex flex-col overflow-hidden">
      {/* Workspace Header */}
      <div className="h-12 flex items-center justify-between px-6 border-b border-white/5 bg-black/20 backdrop-blur-sm flex-shrink-0">
        <div className="flex items-center gap-3">
          <h1 className="text-sm font-semibold text-zinc-300">Workspace</h1>
          <span className="text-xs text-zinc-600">
            {visiblePanels.length} panel{visiblePanels.length !== 1 ? 's' : ''} active
          </span>
        </div>
        
        <div className="flex items-center gap-2">
          {/* Quick add button */}
          <button
            onClick={openAddPanelModal}
            className="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-zinc-400 hover:text-white hover:bg-white/10 transition-colors"
          >
            <Plus size={14} />
            Add Panel
          </button>
        </div>
      </div>
      
      {/* Main workspace area */}
      <div className="flex-1 overflow-hidden p-4">
        {hasNoPanels || hasNoVisiblePanels ? (
          /* Empty State */
          <div className="h-full flex flex-col items-center justify-center">
            <div className="relative">
              {/* Decorative background */}
              <div className="absolute inset-0 -m-20 bg-gradient-to-br from-violet-500/5 to-fuchsia-500/5 rounded-full blur-3xl" />
              
              <div className="relative text-center">
                <div className="w-20 h-20 mx-auto mb-6 rounded-2xl bg-zinc-800/50 border border-white/10 flex items-center justify-center">
                  <Layout size={32} className="text-zinc-600" />
                </div>
                
                <h2 className="text-xl font-semibold text-zinc-300 mb-2">
                  {hasNoPanels ? 'Welcome to GraphStudio' : 'No Active Panels'}
                </h2>
                <p className="text-sm text-zinc-500 mb-6 max-w-md">
                  {hasNoPanels 
                    ? 'Get started by adding your first panel. Create flowcharts, Kanban boards, code, and more.'
                    : 'Click on a panel in the sidebar to show it, or add a new panel to get started.'
                  }
                </p>
                
                <button
                  onClick={openAddPanelModal}
                  className="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-violet-500 to-fuchsia-500 text-white font-medium text-sm shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40 transition-shadow"
                >
                  <Plus size={18} />
                  Add Your First Panel
                </button>
                
                <p className="text-xs text-zinc-600 mt-4">
                  Press <kbd className="px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-400 font-mono mx-1">âŒ˜N</kbd> for quick add
                </p>
              </div>
            </div>
          </div>
        ) : (
          /* Panels Grid */
          <div className="h-full flex gap-4 overflow-hidden">
            {visiblePanels.map((panel) => {
              // If another panel is fullscreen, hide this one
              if (activeFullscreenId && activeFullscreenId !== panel.id) {
                return null;
              }
              
              // Determine panel width based on mode
              let widthClass = '';
              if (panel.mode === 'fullscreen') {
                widthClass = 'w-full';
              } else if (panel.mode === 'minimized') {
                widthClass = 'w-16';
              } else {
                // Flexible mode - share space
                widthClass = 'flex-1 min-w-[300px] max-w-none';
              }
              
              return (
                <PanelContainer
                  key={panel.id}
                  panel={panel}
                  widthClass={widthClass}
                  isFocused={focusedPanelId === panel.id}
                />
              );
            })}
          </div>
        )}
      </div>
    </div>
  );
}
```

`Nexus/src/context/StudioContext.jsx`:

```jsx
import React from 'react';
import { create } from 'zustand';
import { subscribeWithSelector } from 'zustand/middleware';

/**
 * Panel Mode Types:
 * - 'hidden': Panel is in sidebar only, not visible in workspace
 * - 'minimized': Panel is a thin vertical bar in workspace
 * - 'flexible': Panel takes shared space in workspace
 * - 'fullscreen': Panel takes entire workspace
 */

/**
 * @typedef {'hidden' | 'minimized' | 'flexible' | 'fullscreen'} PanelMode
 * 
 * @typedef {Object} PanelInstance
 * @property {string} id - Unique identifier
 * @property {string} panelTypeId - Reference to panel type in registry
 * @property {string} title - Display title
 * @property {PanelMode} mode - Current display mode
 * @property {Object} state - Panel-specific state data
 * @property {number} order - Display order in workspace
 * @property {boolean} isAIObserving - Whether AI is reading this panel's context
 */

const useStudioStore = create(
  subscribeWithSelector((set, get) => ({
    // === Panel Instances State ===
    panels: [],
    
    // === UI State ===
    activeFullscreenId: null,
    focusedPanelId: null,
    commandPaletteOpen: false,
    addPanelModalOpen: false,
    
    // === Drag & Drop State ===
    dragSource: null,
    dragData: null,
    dropTarget: null,
    
    // === AI State ===
    aiObservingPanels: [],
    globalContext: {},
    
    // === Panel Actions ===
    addPanel: (panelTypeId, initialState = {}) => {
      const id = `panel-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
      const panels = get().panels;
      
      set({
        panels: [
          ...panels,
          {
            id,
            panelTypeId,
            title: initialState.title || panelTypeId,
            mode: 'flexible',
            state: initialState,
            order: panels.length,
            isAIObserving: false,
          }
        ]
      });
      
      return id;
    },
    
    removePanel: (id) => {
      set((state) => ({
        panels: state.panels.filter(p => p.id !== id),
        focusedPanelId: state.focusedPanelId === id ? null : state.focusedPanelId,
        activeFullscreenId: state.activeFullscreenId === id ? null : state.activeFullscreenId,
      }));
    },
    
    updatePanelMode: (id, mode) => {
      set((state) => {
        let newActiveFullscreen = state.activeFullscreenId;
        
        // Handle fullscreen logic
        if (mode === 'fullscreen') {
          newActiveFullscreen = id;
        } else if (state.activeFullscreenId === id) {
          newActiveFullscreen = null;
        }
        
        return {
          panels: state.panels.map(p => 
            p.id === id ? { ...p, mode } : p
          ),
          activeFullscreenId: newActiveFullscreen,
        };
      });
    },
    
    updatePanelState: (id, newState) => {
      set((state) => ({
        panels: state.panels.map(p => 
          p.id === id ? { ...p, state: { ...p.state, ...newState } } : p
        )
      }));
    },
    
    updatePanelTitle: (id, title) => {
      set((state) => ({
        panels: state.panels.map(p => 
          p.id === id ? { ...p, title } : p
        )
      }));
    },
    
    reorderPanels: (sourceId, targetId) => {
      set((state) => {
        const panels = [...state.panels];
        const sourceIndex = panels.findIndex(p => p.id === sourceId);
        const targetIndex = panels.findIndex(p => p.id === targetId);
        
        if (sourceIndex === -1 || targetIndex === -1) return state;
        
        const [removed] = panels.splice(sourceIndex, 1);
        panels.splice(targetIndex, 0, removed);
        
        return { panels: panels.map((p, i) => ({ ...p, order: i })) };
      });
    },
    
    // === Focus Actions ===
    setFocusedPanel: (id) => {
      set({ focusedPanelId: id });
    },
    
    // === Command Palette Actions ===
    toggleCommandPalette: () => {
      set((state) => ({ commandPaletteOpen: !state.commandPaletteOpen }));
    },
    
    openCommandPalette: () => set({ commandPaletteOpen: true }),
    closeCommandPalette: () => set({ commandPaletteOpen: false }),
    
    // === Add Panel Modal Actions ===
    openAddPanelModal: () => set({ addPanelModalOpen: true }),
    closeAddPanelModal: () => set({ addPanelModalOpen: false }),
    
    // === Drag & Drop Actions ===
    startDrag: (sourceId, data) => {
      set({ dragSource: sourceId, dragData: data });
    },
    
    setDropTarget: (targetId) => {
      set({ dropTarget: targetId });
    },
    
    endDrag: () => {
      set({ dragSource: null, dragData: null, dropTarget: null });
    },
    
    // === AI Context Actions ===
    setAIObserving: (panelId, isObserving) => {
      set((state) => ({
        panels: state.panels.map(p => 
          p.id === panelId ? { ...p, isAIObserving: isObserving } : p
        ),
        aiObservingPanels: isObserving 
          ? [...state.aiObservingPanels, panelId]
          : state.aiObservingPanels.filter(id => id !== panelId)
      }));
    },
    
    updateGlobalContext: (key, value) => {
      set((state) => ({
        globalContext: { ...state.globalContext, [key]: value }
      }));
    },
    
    // === Selectors ===
    getVisiblePanels: () => {
      const state = get();
      return state.panels.filter(p => p.mode !== 'hidden');
    },
    
    getHiddenPanels: () => {
      const state = get();
      return state.panels.filter(p => p.mode === 'hidden');
    },
    
    getPanelById: (id) => {
      return get().panels.find(p => p.id === id);
    },
  }))
);

export default useStudioStore;

// === Keyboard Shortcut Hook ===
export const useKeyboardShortcuts = () => {
  const { toggleCommandPalette, openAddPanelModal } = useStudioStore();
  
  React.useEffect(() => {
    const handleKeyDown = (e) => {
      // Cmd/Ctrl + K: Toggle command palette
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        toggleCommandPalette();
      }
      
      // Cmd/Ctrl + N: Add new panel
      if ((e.metaKey || e.ctrlKey) && e.key === 'n') {
        e.preventDefault();
        openAddPanelModal();
      }
      
      // Escape: Close modals
      if (e.key === 'Escape') {
        useStudioStore.getState().closeCommandPalette();
        useStudioStore.getState().closeAddPanelModal();
      }
    };
    
    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, []);
};
```

`Nexus/src/hooks/useDragDrop.js`:

```js
import { useState, useCallback, useRef } from 'react';
import useStudioStore from '../context/StudioContext';
import { canAcceptDrop, createDragData } from '../panels/BasePanelInterface';
import { getPanelDefinition } from '../panels/registry';

/**
 * Custom hook for managing drag and drop between panels
 */
export function useDragDrop() {
  const { startDrag, setDropTarget, endDrag, dragSource, dragData, dropTarget } = useStudioStore();
  
  /**
   * Start dragging content from a panel
   */
  const handleDragStart = useCallback((e, contentType, data, sourcePanelId) => {
    const dragPayload = createDragData(contentType, data, sourcePanelId);
    
    // Set custom drag data
    e.dataTransfer.setData('application/json', JSON.stringify(dragPayload));
    e.dataTransfer.effectAllowed = 'copyMove';
    
    // Update store
    startDrag(sourcePanelId, dragPayload);
    
    // Add visual feedback
    e.target.classList.add('opacity-50');
  }, [startDrag]);
  
  /**
   * Handle drag over a potential drop target
   */
  const handleDragOver = useCallback((e, targetPanelId, targetPanelTypeId) => {
    e.preventDefault();
    
    const panelDef = getPanelDefinition(targetPanelTypeId);
    if (!panelDef?.dropZone) return;
    
    // Check if this panel can accept the current drag
    if (dragData && canAcceptDrop(panelDef.dropZone, dragData)) {
      e.dataTransfer.dropEffect = 'copy';
      setDropTarget(targetPanelId);
    } else {
      e.dataTransfer.dropEffect = 'none';
    }
  }, [dragData, setDropTarget]);
  
  /**
   * Handle drag leave
   */
  const handleDragLeave = useCallback((e, targetPanelId) => {
    if (dropTarget === targetPanelId) {
      setDropTarget(null);
    }
  }, [dropTarget, setDropTarget]);
  
  /**
   * Handle drop on a panel
   */
  const handleDrop = useCallback((e, targetPanelId, targetPanelTypeId, panelState, updateState) => {
    e.preventDefault();
    
    const panelDef = getPanelDefinition(targetPanelTypeId);
    if (!panelDef?.dropZone) return;
    
    // Get the drag data
    let data = dragData;
    if (!data) {
      try {
        data = JSON.parse(e.dataTransfer.getData('application/json'));
      } catch {
        return;
      }
    }
    
    // Verify we can accept this drop
    if (!canAcceptDrop(panelDef.dropZone, data)) {
      console.warn('Drop not accepted by target panel');
      endDrag();
      return;
    }
    
    // Execute the drop handler
    try {
      panelDef.dropZone.onDrop(data, panelState, updateState);
    } catch (err) {
      console.error('Error handling drop:', err);
    }
    
    endDrag();
  }, [dragData, endDrag]);
  
  /**
   * Handle drag end (cleanup)
   */
  const handleDragEnd = useCallback((e) => {
    e.target.classList.remove('opacity-50');
    endDrag();
  }, [endDrag]);
  
  return {
    // State
    isDragging: !!dragSource,
    dragSource,
    dragData,
    dropTarget,
    
    // Handlers
    handleDragStart,
    handleDragOver,
    handleDragLeave,
    handleDrop,
    handleDragEnd,
  };
}

/**
 * Hook for making a panel a drag source
 */
export function useDragSource(panelId) {
  const { handleDragStart, handleDragEnd, isDragging, dragSource } = useDragDrop();
  
  return {
    isDragging: dragSource === panelId,
    dragProps: {
      draggable: true,
      onDragStart: (e, contentType, data) => handleDragStart(e, contentType, data, panelId),
      onDragEnd: handleDragEnd,
    },
  };
}

/**
 * Hook for making a panel a drop target
 */
export function useDropTarget(panelId, panelTypeId, panelState, updateState) {
  const { handleDragOver, handleDragLeave, handleDrop, dropTarget, isDragging } = useDragDrop();
  
  return {
    isOver: dropTarget === panelId,
    canDrop: isDragging,
    dropProps: {
      onDragOver: (e) => handleDragOver(e, panelId, panelTypeId),
      onDragLeave: (e) => handleDragLeave(e, panelId),
      onDrop: (e) => handleDrop(e, panelId, panelTypeId, panelState, updateState),
    },
  };
}

export default useDragDrop;
```

`Nexus/src/index.css`:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-bg-primary: #0a0a0c;
  --color-bg-secondary: #111114;
  --color-bg-tertiary: #18181b;
  --color-bg-elevated: #1f1f23;
  --color-border: rgba(255, 255, 255, 0.08);
  --color-border-hover: rgba(255, 255, 255, 0.15);
  --color-text-primary: #fafafa;
  --color-text-secondary: #a1a1aa;
  --color-text-muted: #71717a;
  --color-accent: #8b5cf6;
  --color-accent-glow: rgba(139, 92, 246, 0.4);
  
  /* Glass effect */
  --glass-bg: rgba(24, 24, 27, 0.8);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body, #root {
  height: 100%;
  width: 100%;
  overflow: hidden;
}

body {
  font-family: 'Inter', system-ui, sans-serif;
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Hide scrollbar utility */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Glass morphism effect */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

.glass-subtle {
  background: rgba(24, 24, 27, 0.6);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

/* Glow effects */
.glow-active {
  box-shadow: 0 0 20px var(--color-accent-glow),
              0 0 40px rgba(139, 92, 246, 0.2),
              inset 0 0 20px rgba(139, 92, 246, 0.05);
  border-color: rgba(139, 92, 246, 0.5) !important;
}

.glow-hover:hover {
  box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
}

/* Panel transition utilities */
.panel-transition {
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Drag indicator */
.drag-over {
  background: rgba(139, 92, 246, 0.1) !important;
  border-color: rgba(139, 92, 246, 0.5) !important;
}

/* Dot pattern background */
.dot-pattern {
  background-image: radial-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Grid pattern background */
.grid-pattern {
  background-image: 
    linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* Noise texture overlay */
.noise-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  z-index: 1;
}

/* Gradient mesh background */
.gradient-mesh {
  background: 
    radial-gradient(at 20% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
    radial-gradient(at 80% 20%, rgba(34, 211, 238, 0.1) 0%, transparent 50%),
    radial-gradient(at 40% 40%, rgba(244, 114, 182, 0.08) 0%, transparent 50%);
}

/* Selection styles */
::selection {
  background: rgba(139, 92, 246, 0.4);
  color: white;
}

/* Focus styles */
*:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* Button reset */
button {
  background: none;
  border: none;
  cursor: pointer;
  font-family: inherit;
}

/* Input reset */
input, textarea {
  font-family: inherit;
  border: none;
  outline: none;
  background: transparent;
}

/* Tooltip styles */
.tooltip {
  position: absolute;
  padding: 6px 10px;
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  font-size: 12px;
  color: var(--color-text-secondary);
  white-space: nowrap;
  pointer-events: none;
  z-index: 100;
  opacity: 0;
  transform: translateY(4px);
  transition: opacity 0.15s, transform 0.15s;
}

.tooltip-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Shimmer loading effect */
.shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.05) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

/* Status indicator */
.status-indicator {
  position: relative;
}

.status-indicator::after {
  content: '';
  position: absolute;
  top: -2px;
  right: -2px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #4ade80;
  border: 2px solid var(--color-bg-primary);
}

.status-indicator.busy::after {
  background: #fb923c;
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes slide-up {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 0 0 20px var(--color-accent-glow),
                0 0 40px rgba(139, 92, 246, 0.2);
  }
  50% {
    box-shadow: 0 0 30px var(--color-accent-glow),
                0 0 60px rgba(139, 92, 246, 0.3);
  }
}

.animate-slide-up {
  animation: slide-up 0.25s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* Writing mode for minimized panels */
.vertical-text {
  writing-mode: vertical-rl;
  text-orientation: mixed;
  transform: rotate(180deg);
}

/* Responsive utilities */
@media (max-width: 768px) {
  .sidebar {
    width: 60px !important;
  }
}

/* Motion reduced preferences */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
```

`Nexus/src/main.jsx`:

```jsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

`Nexus/src/panels/BasePanelInterface.js`:

```js
/**
 * Base Panel Interface - All panels must implement this interface
 * 
 * This defines the contract between the Shell (container) and Panel (app)
 * Each panel type registers with these properties and methods
 */

/**
 * @typedef {Object} PanelData
 * @property {'dsl/json' | 'image/png' | 'text/plain' | 'code/javascript' | 'code/html'} contentType
 * @property {any} data - The actual data (DSL, image bytes, text, etc.)
 * @property {string} schemaVersion - Version of the data schema
 */

/**
 * @typedef {Object} PanelAction
 * @property {string} id - Unique action identifier
 * @property {string} label - Display label for command palette
 * @property {string} [shortcut] - Keyboard shortcut
 * @property {string} [category] - Action category for grouping
 * @property {Function} handler - Action handler function
 */

/**
 * @typedef {Object} ExportFormat
 * @property {string} format - Format identifier (png, svg, json, pdf)
 * @property {string} label - Display label
 * @property {string} [mimeType] - MIME type for download
 */

/**
 * @typedef {Object} DropZone
 * @property {string[]} acceptTypes - Content types this panel accepts
 * @property {Function} onDrop - Handler for dropped content
 */

/**
 * IStudioPanelDefinition - The interface every panel type must implement
 * 
 * @typedef {Object} IStudioPanelDefinition
 * @property {string} id - Unique panel type identifier
 * @property {string} name - Display name
 * @property {string} description - Short description of what the panel does
 * @property {React.ElementType} icon - Lucide icon component
 * @property {string} category - Category for grouping (e.g., 'creation', 'data', 'ai')
 * @property {string} accentColor - Tailwind color class for theming
 * 
 * @property {Function} renderMainView - Render the main content area
 * @property {Function} [renderPropertiesPanel] - Render inspector/properties panel
 * @property {Function} [renderToolbar] - Render custom toolbar
 * 
 * @property {Function} getLLMContext - Get context for AI to understand panel content
 * @property {Function} applyLLMChange - Apply changes from AI
 * 
 * @property {DropZone} [dropZone] - Drop zone configuration
 * @property {ExportFormat[]} [exportFormats] - Supported export formats
 * @property {PanelAction[]} [actions] - Actions for command palette
 * 
 * @property {Function} [onMount] - Called when panel mounts
 * @property {Function} [onUnmount] - Called when panel unmounts
 * @property {Function} [onFocus] - Called when panel gains focus
 * @property {Function} [onBlur] - Called when panel loses focus
 */

/**
 * Creates a panel definition with defaults
 * @param {Partial<IStudioPanelDefinition>} definition 
 * @returns {IStudioPanelDefinition}
 */
export function createPanelDefinition(definition) {
    return {
      // Required fields (must be provided)
      id: definition.id,
      name: definition.name || definition.id,
      description: definition.description || '',
      icon: definition.icon,
      category: definition.category || 'general',
      accentColor: definition.accentColor || 'violet',
      
      // Rendering (main view is required)
      renderMainView: definition.renderMainView,
      renderPropertiesPanel: definition.renderPropertiesPanel || null,
      renderToolbar: definition.renderToolbar || null,
      
      // AI Integration
      getLLMContext: definition.getLLMContext || (async () => ({ type: 'empty', data: null })),
      applyLLMChange: definition.applyLLMChange || (async () => false),
      
      // Interoperability
      dropZone: definition.dropZone || null,
      exportFormats: definition.exportFormats || [],
      actions: definition.actions || [],
      
      // Lifecycle
      onMount: definition.onMount || (() => {}),
      onUnmount: definition.onUnmount || (() => {}),
      onFocus: definition.onFocus || (() => {}),
      onBlur: definition.onBlur || (() => {}),
      
      // Initial state factory
      getInitialState: definition.getInitialState || (() => ({})),
    };
  }
  
  /**
   * Panel Categories for organization
   */
  export const PanelCategories = {
    CREATION: 'creation',    // Canvas, editors for creating things
    DATA: 'data',            // Notes, sources, data views
    AI: 'ai',                // Chat, AI assistants
    UTILITY: 'utility',      // Settings, config, tools
    PREVIEW: 'preview',      // Previews, output views
  };
  
  /**
   * Common content types for drag & drop
   */
  export const ContentTypes = {
    TEXT_PLAIN: 'text/plain',
    TEXT_MARKDOWN: 'text/markdown',
    TEXT_CODE: 'text/code',
    DSL_FLOWCHART: 'dsl/flowchart',
    DSL_KANBAN: 'dsl/kanban',
    DSL_SVG: 'dsl/svg',
    IMAGE_PNG: 'image/png',
    IMAGE_SVG: 'image/svg+xml',
    JSON: 'application/json',
    PANEL_REF: 'application/x-panel-ref', // Reference to another panel
  };
  
  /**
   * Utility to create a drag data object
   */
  export function createDragData(contentType, data, sourcePanelId) {
    return {
      contentType,
      data,
      sourcePanelId,
      timestamp: Date.now(),
    };
  }
  
  /**
   * Utility to check if a drop target accepts a drag data type
   */
  export function canAcceptDrop(dropZone, dragData) {
    if (!dropZone || !dragData) return false;
    return dropZone.acceptTypes.includes(dragData.contentType);
  }
  
  export default {
    createPanelDefinition,
    PanelCategories,
    ContentTypes,
    createDragData,
    canAcceptDrop,
  };
```

`Nexus/src/panels/DummyCanvasPanel.jsx`:

```jsx
import React, { useState, useRef, useCallback } from 'react';
import { Paintbrush, Square, Circle, Triangle, Trash2, Download, Undo, Redo, ZoomIn, ZoomOut, Move } from 'lucide-react';
import { createPanelDefinition, PanelCategories, ContentTypes } from './BasePanelInterface';

/**
 * Dummy Canvas Panel - Demonstrates the panel interface for a drawing canvas
 */

// Main View Component
function CanvasMainView({ panelState, updateState, isFocused }) {
  const canvasRef = useRef(null);
  const [tool, setTool] = useState('select');
  const [shapes, setShapes] = useState(panelState?.shapes || []);
  const [selectedShape, setSelectedShape] = useState(null);
  const [isDrawing, setIsDrawing] = useState(false);
  const [startPos, setStartPos] = useState(null);
  
  const colors = ['#8b5cf6', '#22d3ee', '#4ade80', '#fb923c', '#f472b6', '#fbbf24'];
  const [currentColor, setCurrentColor] = useState(colors[0]);
  
  const handleMouseDown = useCallback((e) => {
    const rect = canvasRef.current.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    if (tool === 'select') {
      // Check if clicking on a shape
      const clicked = shapes.findLast(s => 
        x >= s.x && x <= s.x + s.width &&
        y >= s.y && y <= s.y + s.height
      );
      setSelectedShape(clicked?.id || null);
    } else if (['rect', 'circle', 'triangle'].includes(tool)) {
      setIsDrawing(true);
      setStartPos({ x, y });
    }
  }, [tool, shapes]);
  
  const handleMouseMove = useCallback((e) => {
    if (!isDrawing || !startPos) return;
    
    const rect = canvasRef.current.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    // Preview shape (could be optimized with a preview layer)
  }, [isDrawing, startPos]);
  
  const handleMouseUp = useCallback((e) => {
    if (!isDrawing || !startPos) return;
    
    const rect = canvasRef.current.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    const newShape = {
      id: `shape-${Date.now()}`,
      type: tool,
      x: Math.min(startPos.x, x),
      y: Math.min(startPos.y, y),
      width: Math.abs(x - startPos.x),
      height: Math.abs(y - startPos.y),
      color: currentColor,
    };
    
    if (newShape.width > 5 && newShape.height > 5) {
      const newShapes = [...shapes, newShape];
      setShapes(newShapes);
      updateState?.({ shapes: newShapes });
    }
    
    setIsDrawing(false);
    setStartPos(null);
  }, [isDrawing, startPos, tool, currentColor, shapes, updateState]);
  
  const deleteSelected = () => {
    if (selectedShape) {
      const newShapes = shapes.filter(s => s.id !== selectedShape);
      setShapes(newShapes);
      setSelectedShape(null);
      updateState?.({ shapes: newShapes });
    }
  };
  
  const clearCanvas = () => {
    setShapes([]);
    setSelectedShape(null);
    updateState?.({ shapes: [] });
  };
  
  const renderShape = (shape) => {
    const isSelected = shape.id === selectedShape;
    const baseStyle = {
      position: 'absolute',
      left: shape.x,
      top: shape.y,
      width: shape.width,
      height: shape.height,
      backgroundColor: shape.color,
      opacity: 0.8,
      cursor: 'pointer',
      transition: 'box-shadow 0.15s',
      boxShadow: isSelected ? `0 0 0 2px white, 0 0 0 4px ${shape.color}` : 'none',
    };
    
    if (shape.type === 'circle') {
      return <div key={shape.id} style={{ ...baseStyle, borderRadius: '50%' }} />;
    } else if (shape.type === 'triangle') {
      return (
        <div
          key={shape.id}
          style={{
            position: 'absolute',
            left: shape.x,
            top: shape.y,
            width: 0,
            height: 0,
            borderLeft: `${shape.width / 2}px solid transparent`,
            borderRight: `${shape.width / 2}px solid transparent`,
            borderBottom: `${shape.height}px solid ${shape.color}`,
            cursor: 'pointer',
          }}
        />
      );
    }
    return <div key={shape.id} style={{ ...baseStyle, borderRadius: 4 }} />;
  };

  return (
    <div className="flex flex-col h-full">
      {/* Toolbar */}
      <div className="flex items-center gap-2 p-3 border-b border-white/10 bg-black/20">
        {/* Tools */}
        <div className="flex items-center gap-1 p-1 rounded-lg bg-black/30">
          <button
            onClick={() => setTool('select')}
            className={`p-2 rounded-md transition-all ${tool === 'select' ? 'bg-violet-500 text-white' : 'text-zinc-400 hover:text-white hover:bg-white/10'}`}
            title="Select"
          >
            <Move size={16} />
          </button>
          <button
            onClick={() => setTool('rect')}
            className={`p-2 rounded-md transition-all ${tool === 'rect' ? 'bg-violet-500 text-white' : 'text-zinc-400 hover:text-white hover:bg-white/10'}`}
            title="Rectangle"
          >
            <Square size={16} />
          </button>
          <button
            onClick={() => setTool('circle')}
            className={`p-2 rounded-md transition-all ${tool === 'circle' ? 'bg-violet-500 text-white' : 'text-zinc-400 hover:text-white hover:bg-white/10'}`}
            title="Circle"
          >
            <Circle size={16} />
          </button>
          <button
            onClick={() => setTool('triangle')}
            className={`p-2 rounded-md transition-all ${tool === 'triangle' ? 'bg-violet-500 text-white' : 'text-zinc-400 hover:text-white hover:bg-white/10'}`}
            title="Triangle"
          >
            <Triangle size={16} />
          </button>
        </div>
        
        {/* Divider */}
        <div className="w-px h-6 bg-white/10" />
        
        {/* Colors */}
        <div className="flex items-center gap-1">
          {colors.map(color => (
            <button
              key={color}
              onClick={() => setCurrentColor(color)}
              className={`w-6 h-6 rounded-full transition-transform ${currentColor === color ? 'ring-2 ring-white ring-offset-2 ring-offset-zinc-900 scale-110' : 'hover:scale-110'}`}
              style={{ backgroundColor: color }}
            />
          ))}
        </div>
        
        {/* Divider */}
        <div className="w-px h-6 bg-white/10" />
        
        {/* Actions */}
        <button
          onClick={deleteSelected}
          disabled={!selectedShape}
          className="p-2 rounded-md text-zinc-400 hover:text-red-400 hover:bg-red-500/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all"
          title="Delete Selected"
        >
          <Trash2 size={16} />
        </button>
        <button
          onClick={clearCanvas}
          className="p-2 rounded-md text-zinc-400 hover:text-white hover:bg-white/10 transition-all"
          title="Clear Canvas"
        >
          <Undo size={16} />
        </button>
        
        {/* Spacer */}
        <div className="flex-1" />
        
        {/* Shape count */}
        <span className="text-xs text-zinc-500">
          {shapes.length} shape{shapes.length !== 1 ? 's' : ''}
        </span>
      </div>
      
      {/* Canvas Area */}
      <div 
        ref={canvasRef}
        className={`flex-1 relative overflow-hidden grid-pattern cursor-crosshair ${isFocused ? 'ring-1 ring-violet-500/30 ring-inset' : ''}`}
        onMouseDown={handleMouseDown}
        onMouseMove={handleMouseMove}
        onMouseUp={handleMouseUp}
        onMouseLeave={() => { setIsDrawing(false); setStartPos(null); }}
      >
        {shapes.map(renderShape)}
        
        {/* Empty state */}
        {shapes.length === 0 && (
          <div className="absolute inset-0 flex flex-col items-center justify-center text-zinc-500 pointer-events-none">
            <Paintbrush size={48} className="mb-4 opacity-20" />
            <p className="text-sm">Click and drag to draw shapes</p>
            <p className="text-xs mt-1 text-zinc-600">Select a tool from the toolbar above</p>
          </div>
        )}
      </div>
    </div>
  );
}

// Properties Panel Component
function CanvasPropertiesPanel({ panelState }) {
  const shapes = panelState?.shapes || [];
  
  return (
    <div className="p-4 space-y-4">
      <h3 className="text-sm font-medium text-zinc-300">Canvas Properties</h3>
      
      <div className="space-y-2">
        <div className="flex justify-between text-sm">
          <span className="text-zinc-500">Total Shapes</span>
          <span className="text-zinc-300">{shapes.length}</span>
        </div>
        <div className="flex justify-between text-sm">
          <span className="text-zinc-500">Rectangles</span>
          <span className="text-zinc-300">{shapes.filter(s => s.type === 'rect').length}</span>
        </div>
        <div className="flex justify-between text-sm">
          <span className="text-zinc-500">Circles</span>
          <span className="text-zinc-300">{shapes.filter(s => s.type === 'circle').length}</span>
        </div>
        <div className="flex justify-between text-sm">
          <span className="text-zinc-500">Triangles</span>
          <span className="text-zinc-300">{shapes.filter(s => s.type === 'triangle').length}</span>
        </div>
      </div>
    </div>
  );
}

// Panel Definition
const DummyCanvasPanel = createPanelDefinition({
  id: 'canvas',
  name: 'Creative Canvas',
  description: 'Draw and arrange shapes on a canvas',
  icon: Paintbrush,
  category: PanelCategories.CREATION,
  accentColor: 'violet',
  
  renderMainView: (props) => <CanvasMainView {...props} />,
  renderPropertiesPanel: (props) => <CanvasPropertiesPanel {...props} />,
  
  getInitialState: () => ({
    shapes: [],
  }),
  
  getLLMContext: async (panelState) => {
    return {
      contentType: 'dsl/json',
      data: {
        type: 'canvas',
        shapes: panelState?.shapes || [],
      },
      schemaVersion: '1.0',
    };
  },
  
  applyLLMChange: async (panelState, updateState, dslDiff) => {
    if (dslDiff.shapes) {
      updateState({ shapes: dslDiff.shapes });
      return true;
    }
    return false;
  },
  
  dropZone: {
    acceptTypes: [ContentTypes.DSL_SVG, ContentTypes.IMAGE_PNG, ContentTypes.JSON],
    onDrop: (data, panelState, updateState) => {
      console.log('Canvas received drop:', data);
      // Convert dropped data to shapes
    },
  },
  
  exportFormats: [
    { format: 'png', label: 'PNG Image', mimeType: 'image/png' },
    { format: 'svg', label: 'SVG Vector', mimeType: 'image/svg+xml' },
    { format: 'json', label: 'JSON Data', mimeType: 'application/json' },
  ],
  
  actions: [
    { id: 'canvas.clear', label: 'Clear Canvas', category: 'Canvas' },
    { id: 'canvas.export', label: 'Export Canvas', category: 'Canvas' },
  ],
});

export default DummyCanvasPanel;
```

`Nexus/src/panels/DummyChatPanel.jsx`:

```jsx
import React, { useState, useRef, useEffect } from 'react';
import { MessageSquare, Send, Sparkles, Loader2, Bot, User, Paperclip, Mic } from 'lucide-react';
import { createPanelDefinition, PanelCategories, ContentTypes } from './BasePanelInterface';

/**
 * Dummy Chat Panel - Demonstrates the panel interface for AI chat
 */

// Message bubble component
function MessageBubble({ message }) {
  const isUser = message.role === 'user';
  
  return (
    <div className={`flex gap-3 ${isUser ? 'flex-row-reverse' : ''}`}>
      {/* Avatar */}
      <div className={`
        flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center
        ${isUser ? 'bg-violet-500' : 'bg-gradient-to-br from-cyan-500 to-violet-500'}
      `}>
        {isUser ? <User size={14} className="text-white" /> : <Bot size={14} className="text-white" />}
      </div>
      
      {/* Message content */}
      <div className={`
        max-w-[80%] rounded-2xl px-4 py-2.5
        ${isUser 
          ? 'bg-violet-500 text-white rounded-br-md' 
          : 'bg-zinc-800 text-zinc-100 rounded-bl-md border border-white/5'
        }
      `}>
        <p className="text-sm leading-relaxed whitespace-pre-wrap">{message.content}</p>
        {message.timestamp && (
          <p className={`text-xs mt-1 ${isUser ? 'text-violet-200' : 'text-zinc-500'}`}>
            {new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
          </p>
        )}
      </div>
    </div>
  );
}

// Typing indicator
function TypingIndicator() {
  return (
    <div className="flex gap-3">
      <div className="w-8 h-8 rounded-full bg-gradient-to-br from-cyan-500 to-violet-500 flex items-center justify-center">
        <Bot size={14} className="text-white" />
      </div>
      <div className="bg-zinc-800 rounded-2xl rounded-bl-md px-4 py-3 border border-white/5">
        <div className="flex gap-1">
          <span className="w-2 h-2 bg-zinc-500 rounded-full animate-bounce" style={{ animationDelay: '0ms' }} />
          <span className="w-2 h-2 bg-zinc-500 rounded-full animate-bounce" style={{ animationDelay: '150ms' }} />
          <span className="w-2 h-2 bg-zinc-500 rounded-full animate-bounce" style={{ animationDelay: '300ms' }} />
        </div>
      </div>
    </div>
  );
}

// Main View Component
function ChatMainView({ panelState, updateState, isFocused }) {
  const [messages, setMessages] = useState(panelState?.messages || [
    { id: '1', role: 'assistant', content: 'Hello! I\'m your AI design assistant. I can help you with flowcharts, UI design, code generation, and more. What would you like to create today?', timestamp: Date.now() - 60000 }
  ]);
  const [input, setInput] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const messagesEndRef = useRef(null);
  const inputRef = useRef(null);
  
  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  };
  
  useEffect(() => {
    scrollToBottom();
  }, [messages, isTyping]);
  
  // Simulate AI response
  const simulateResponse = (userMessage) => {
    setIsTyping(true);
    
    setTimeout(() => {
      const responses = [
        "I understand you want to work on that. Let me analyze the current context from your open panels...",
        "Great idea! I can help you design that. Would you like me to generate a flowchart or start with a wireframe?",
        "I've reviewed your canvas and notes. Here's what I suggest: we could break this down into smaller components first.",
        "That's an interesting approach. Let me create a draft based on your requirements. You'll see it appear in the Canvas panel.",
        "I can definitely help with that! Looking at your existing work, I think we should consider the user flow first.",
      ];
      
      const newMessage = {
        id: `msg-${Date.now()}`,
        role: 'assistant',
        content: responses[Math.floor(Math.random() * responses.length)],
        timestamp: Date.now(),
      };
      
      setMessages(prev => {
        const updated = [...prev, newMessage];
        updateState?.({ messages: updated });
        return updated;
      });
      setIsTyping(false);
    }, 1500 + Math.random() * 1000);
  };
  
  const handleSend = () => {
    if (!input.trim()) return;
    
    const userMessage = {
      id: `msg-${Date.now()}`,
      role: 'user',
      content: input.trim(),
      timestamp: Date.now(),
    };
    
    setMessages(prev => {
      const updated = [...prev, userMessage];
      updateState?.({ messages: updated });
      return updated;
    });
    setInput('');
    
    // Simulate AI response
    simulateResponse(input.trim());
  };
  
  const handleKeyDown = (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleSend();
    }
  };
  
  const suggestions = [
    "Generate a flowchart",
    "Create a Kanban board",
    "Design a landing page",
    "Help me organize my notes",
  ];

  return (
    <div className="flex flex-col h-full">
      {/* Messages area */}
      <div className="flex-1 overflow-y-auto p-4 space-y-4">
        {messages.map(msg => (
          <MessageBubble key={msg.id} message={msg} />
        ))}
        {isTyping && <TypingIndicator />}
        <div ref={messagesEndRef} />
      </div>
      
      {/* Quick suggestions */}
      {messages.length <= 1 && (
        <div className="px-4 pb-2">
          <div className="flex flex-wrap gap-2">
            {suggestions.map((suggestion, i) => (
              <button
                key={i}
                onClick={() => setInput(suggestion)}
                className="px-3 py-1.5 text-xs rounded-full bg-zinc-800 text-zinc-300 hover:bg-zinc-700 hover:text-white border border-white/5 transition-colors"
              >
                <Sparkles size={10} className="inline mr-1.5" />
                {suggestion}
              </button>
            ))}
          </div>
        </div>
      )}
      
      {/* Input area */}
      <div className="p-4 border-t border-white/5">
        <div className={`
          flex items-end gap-2 p-2 rounded-2xl bg-zinc-800/50 border transition-colors
          ${isFocused ? 'border-violet-500/50' : 'border-white/5'}
        `}>
          <button className="p-2 rounded-full text-zinc-500 hover:text-zinc-300 hover:bg-white/5 transition-colors">
            <Paperclip size={18} />
          </button>
          
          <textarea
            ref={inputRef}
            value={input}
            onChange={(e) => setInput(e.target.value)}
            onKeyDown={handleKeyDown}
            placeholder="Ask me anything..."
            rows={1}
            className="flex-1 bg-transparent text-sm text-white placeholder-zinc-500 resize-none max-h-32 py-2"
            style={{ minHeight: '24px' }}
          />
          
          <button className="p-2 rounded-full text-zinc-500 hover:text-zinc-300 hover:bg-white/5 transition-colors">
            <Mic size={18} />
          </button>
          
          <button
            onClick={handleSend}
            disabled={!input.trim() || isTyping}
            className="p-2 rounded-full bg-violet-500 text-white hover:bg-violet-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
          >
            {isTyping ? <Loader2 size={18} className="animate-spin" /> : <Send size={18} />}
          </button>
        </div>
        
        <p className="text-xs text-zinc-600 text-center mt-2">
          AI can analyze all open panels to provide contextual assistance
        </p>
      </div>
    </div>
  );
}

// Panel Definition
const DummyChatPanel = createPanelDefinition({
  id: 'chat',
  name: 'AI Assistant',
  description: 'Chat with AI for design assistance',
  icon: MessageSquare,
  category: PanelCategories.AI,
  accentColor: 'cyan',
  
  renderMainView: (props) => <ChatMainView {...props} />,
  
  getInitialState: () => ({
    messages: [
      { 
        id: '1', 
        role: 'assistant', 
        content: 'Hello! I\'m your AI design assistant. I can help you with flowcharts, UI design, code generation, and more. What would you like to create today?', 
        timestamp: Date.now() 
      }
    ],
  }),
  
  getLLMContext: async (panelState) => {
    return {
      contentType: 'text/plain',
      data: {
        type: 'chat',
        messageCount: panelState?.messages?.length || 0,
        lastMessage: panelState?.messages?.slice(-1)[0]?.content || '',
      },
      schemaVersion: '1.0',
    };
  },
  
  applyLLMChange: async (panelState, updateState, dslDiff) => {
    if (dslDiff.addMessage) {
      const messages = [...(panelState?.messages || []), dslDiff.addMessage];
      updateState({ messages });
      return true;
    }
    return false;
  },
  
  dropZone: {
    acceptTypes: [ContentTypes.TEXT_PLAIN, ContentTypes.TEXT_MARKDOWN, ContentTypes.JSON],
    onDrop: (data, panelState, updateState) => {
      // Add dropped content as context to the chat
      console.log('Chat received drop:', data);
    },
  },
  
  actions: [
    { id: 'chat.clear', label: 'Clear Chat History', category: 'Chat' },
    { id: 'chat.export', label: 'Export Conversation', category: 'Chat' },
    { id: 'chat.gather-context', label: 'Gather Context from All Panels', category: 'Chat' },
  ],
});

export default DummyChatPanel;
```

`Nexus/src/panels/DummyCodePanel.jsx`:

```jsx
import React, { useState } from 'react';
import { Code, Play, Copy, Check, Download, FileCode, RefreshCw } from 'lucide-react';
import { createPanelDefinition, PanelCategories, ContentTypes } from './BasePanelInterface';

/**
 * Dummy Code Panel - Demonstrates the panel interface for code editing
 */

// Simple syntax highlighting (very basic)
function highlightCode(code, language) {
  if (language === 'javascript' || language === 'jsx') {
    return code
      .replace(/(\/\/.*$)/gm, '<span class="text-zinc-500">$1</span>')
      .replace(/('.*?'|".*?")/g, '<span class="text-emerald-400">$1</span>')
      .replace(/\b(const|let|var|function|return|if|else|for|while|import|export|from|default|async|await)\b/g, '<span class="text-violet-400">$1</span>')
      .replace(/\b(true|false|null|undefined)\b/g, '<span class="text-amber-400">$1</span>')
      .replace(/\b(\d+)\b/g, '<span class="text-cyan-400">$1</span>');
  }
  return code;
}

// Main View Component
function CodeMainView({ panelState, updateState, isFocused }) {
  const [code, setCode] = useState(panelState?.code || `// Welcome to the Code Editor
// This is a demo panel implementing IStudioPanelDefinition

import React from 'react';
import { createPanelDefinition } from './BasePanelInterface';

function MyComponent({ title, children }) {
  const [count, setCount] = useState(0);
  
  return (
    <div className="container">
      <h1>{title}</h1>
      <p>Count: {count}</p>
      <button onClick={() => setCount(c => c + 1)}>
        Increment
      </button>
      {children}
    </div>
  );
}

export default MyComponent;`);
  
  const [language, setLanguage] = useState(panelState?.language || 'javascript');
  const [copied, setCopied] = useState(false);
  const [output, setOutput] = useState('');
  const [showOutput, setShowOutput] = useState(false);
  
  const languages = [
    { id: 'javascript', label: 'JavaScript' },
    { id: 'jsx', label: 'React JSX' },
    { id: 'html', label: 'HTML' },
    { id: 'css', label: 'CSS' },
    { id: 'python', label: 'Python' },
    { id: 'json', label: 'JSON' },
  ];
  
  const handleCodeChange = (newCode) => {
    setCode(newCode);
    updateState?.({ code: newCode, language });
  };
  
  const handleCopy = async () => {
    await navigator.clipboard.writeText(code);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };
  
  const handleRun = () => {
    try {
      // Simulate running code (in a real app, this would use a sandbox)
      setOutput(`âœ“ Code executed successfully
  
Output:
  - Module loaded
  - Component rendered
  - No errors detected

Execution time: ${Math.floor(Math.random() * 50 + 10)}ms`);
      setShowOutput(true);
    } catch (err) {
      setOutput(`âœ— Error: ${err.message}`);
      setShowOutput(true);
    }
  };
  
  const lines = code.split('\n');

  return (
    <div className="flex flex-col h-full">
      {/* Toolbar */}
      <div className="flex items-center gap-2 p-3 border-b border-white/10 bg-black/20">
        {/* Language selector */}
        <select
          value={language}
          onChange={(e) => {
            setLanguage(e.target.value);
            updateState?.({ code, language: e.target.value });
          }}
          className="px-3 py-1.5 rounded-lg bg-black/30 border border-white/10 text-sm text-zinc-300 focus:border-violet-500/50 cursor-pointer"
        >
          {languages.map(lang => (
            <option key={lang.id} value={lang.id}>{lang.label}</option>
          ))}
        </select>
        
        <div className="flex-1" />
        
        {/* Actions */}
        <button
          onClick={handleRun}
          className="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-green-500/10 text-green-400 hover:bg-green-500/20 transition-colors text-sm font-medium"
        >
          <Play size={14} />
          Run
        </button>
        
        <button
          onClick={handleCopy}
          className="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-white/5 text-zinc-400 hover:bg-white/10 hover:text-white transition-colors text-sm"
        >
          {copied ? <Check size={14} className="text-green-400" /> : <Copy size={14} />}
          {copied ? 'Copied' : 'Copy'}
        </button>
        
        <button
          className="p-2 rounded-lg text-zinc-400 hover:bg-white/10 hover:text-white transition-colors"
          title="Download"
        >
          <Download size={16} />
        </button>
      </div>
      
      {/* Editor */}
      <div className={`flex-1 flex overflow-hidden ${isFocused ? 'ring-1 ring-violet-500/30 ring-inset' : ''}`}>
        {/* Code area */}
        <div className="flex-1 flex overflow-auto font-mono text-sm">
          {/* Line numbers */}
          <div className="flex-shrink-0 py-4 pr-4 pl-4 text-right text-zinc-600 select-none bg-black/20 border-r border-white/5">
            {lines.map((_, i) => (
              <div key={i} className="leading-6">{i + 1}</div>
            ))}
          </div>
          
          {/* Code content */}
          <div className="flex-1 relative">
            <textarea
              value={code}
              onChange={(e) => handleCodeChange(e.target.value)}
              spellCheck={false}
              className="absolute inset-0 w-full h-full p-4 bg-transparent text-transparent caret-white resize-none leading-6 font-mono"
              style={{ caretColor: 'white' }}
            />
            <pre className="p-4 text-zinc-200 pointer-events-none leading-6 overflow-visible">
              <code dangerouslySetInnerHTML={{ __html: highlightCode(code, language) }} />
            </pre>
          </div>
        </div>
        
        {/* Output panel */}
        {showOutput && (
          <div className="w-80 flex-shrink-0 border-l border-white/5 flex flex-col bg-black/20">
            <div className="flex items-center justify-between p-3 border-b border-white/5">
              <span className="text-xs font-medium text-zinc-400">Output</span>
              <button
                onClick={() => setShowOutput(false)}
                className="text-zinc-500 hover:text-white"
              >
                Ã—
              </button>
            </div>
            <div className="flex-1 p-4 overflow-auto">
              <pre className="text-xs text-zinc-400 whitespace-pre-wrap font-mono">
                {output}
              </pre>
            </div>
          </div>
        )}
      </div>
      
      {/* Status bar */}
      <div className="flex items-center justify-between px-4 py-2 border-t border-white/5 text-xs text-zinc-500">
        <div className="flex items-center gap-4">
          <span className="flex items-center gap-1.5">
            <FileCode size={12} />
            {language}
          </span>
          <span>Lines: {lines.length}</span>
          <span>Characters: {code.length}</span>
        </div>
        <div className="flex items-center gap-2">
          <span className="flex items-center gap-1 text-green-500">
            <span className="w-2 h-2 rounded-full bg-green-500" />
            Ready
          </span>
        </div>
      </div>
    </div>
  );
}

// Panel Definition
const DummyCodePanel = createPanelDefinition({
  id: 'code',
  name: 'Code Editor',
  description: 'Write and edit code',
  icon: Code,
  category: PanelCategories.CREATION,
  accentColor: 'emerald',
  
  renderMainView: (props) => <CodeMainView {...props} />,
  
  getInitialState: () => ({
    code: `// Start coding here
function hello() {
  console.log("Hello, World!");
}

hello();`,
    language: 'javascript',
  }),
  
  getLLMContext: async (panelState) => {
    return {
      contentType: 'text/code',
      data: {
        type: 'code',
        language: panelState?.language || 'javascript',
        code: panelState?.code || '',
        lineCount: (panelState?.code || '').split('\n').length,
      },
      schemaVersion: '1.0',
    };
  },
  
  applyLLMChange: async (panelState, updateState, dslDiff) => {
    if (dslDiff.code !== undefined) {
      updateState({ 
        code: dslDiff.code,
        language: dslDiff.language || panelState?.language || 'javascript'
      });
      return true;
    }
    return false;
  },
  
  dropZone: {
    acceptTypes: [ContentTypes.TEXT_PLAIN, ContentTypes.TEXT_CODE, ContentTypes.JSON],
    onDrop: (data, panelState, updateState) => {
      if (data.contentType === ContentTypes.TEXT_CODE || data.contentType === ContentTypes.TEXT_PLAIN) {
        updateState({ code: data.data });
      }
    },
  },
  
  exportFormats: [
    { format: 'js', label: 'JavaScript', mimeType: 'text/javascript' },
    { format: 'jsx', label: 'React JSX', mimeType: 'text/javascript' },
    { format: 'txt', label: 'Plain Text', mimeType: 'text/plain' },
  ],
  
  actions: [
    { id: 'code.run', label: 'Run Code', shortcut: 'Ctrl+Enter', category: 'Code' },
    { id: 'code.format', label: 'Format Code', shortcut: 'Ctrl+Shift+F', category: 'Code' },
    { id: 'code.copy', label: 'Copy All', category: 'Code' },
  ],
});

export default DummyCodePanel;
```

`Nexus/src/panels/DummyFlowchartPanel.jsx`:

```jsx
import React, { useState, useRef, useCallback, useEffect } from 'react';
import { GitBranch, Plus, Trash2, Circle, Square, Diamond, Play, ZoomIn, ZoomOut, Move, MousePointer } from 'lucide-react';
import { createPanelDefinition, PanelCategories, ContentTypes } from './BasePanelInterface';

/**
 * Dummy Flowchart Panel - Demonstrates the panel interface for flowchart editing
 */

// Node component
function FlowNode({ node, isSelected, onSelect, onDrag, scale }) {
  const nodeRef = useRef(null);
  const [isDragging, setIsDragging] = useState(false);
  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });
  
  const handleMouseDown = (e) => {
    e.stopPropagation();
    onSelect();
    setIsDragging(true);
    const rect = nodeRef.current.getBoundingClientRect();
    setDragOffset({
      x: e.clientX - rect.left,
      y: e.clientY - rect.top,
    });
  };
  
  useEffect(() => {
    if (!isDragging) return;
    
    const handleMouseMove = (e) => {
      const canvas = nodeRef.current.parentElement;
      const canvasRect = canvas.getBoundingClientRect();
      const x = (e.clientX - canvasRect.left - dragOffset.x) / scale;
      const y = (e.clientY - canvasRect.top - dragOffset.y) / scale;
      onDrag(node.id, { x: Math.max(0, x), y: Math.max(0, y) });
    };
    
    const handleMouseUp = () => setIsDragging(false);
    
    window.addEventListener('mousemove', handleMouseMove);
    window.addEventListener('mouseup', handleMouseUp);
    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
      window.removeEventListener('mouseup', handleMouseUp);
    };
  }, [isDragging, dragOffset, node.id, onDrag, scale]);
  
  const nodeColors = {
    start: 'from-green-500 to-emerald-600',
    end: 'from-red-500 to-rose-600',
    process: 'from-blue-500 to-indigo-600',
    decision: 'from-amber-500 to-orange-600',
  };
  
  const nodeShapes = {
    start: 'rounded-full',
    end: 'rounded-full',
    process: 'rounded-xl',
    decision: 'rotate-45',
  };
  
  return (
    <div
      ref={nodeRef}
      onMouseDown={handleMouseDown}
      className={`
        absolute cursor-move select-none transition-shadow
        ${isDragging ? 'z-50' : 'z-10'}
        ${isSelected ? 'ring-2 ring-white ring-offset-2 ring-offset-zinc-900' : ''}
      `}
      style={{
        left: node.x * scale,
        top: node.y * scale,
        transform: `scale(${scale})`,
        transformOrigin: 'top left',
      }}
    >
      <div className={`
        w-32 h-16 flex items-center justify-center
        bg-gradient-to-br ${nodeColors[node.type] || nodeColors.process}
        ${nodeShapes[node.type] || nodeShapes.process}
        shadow-lg
        ${node.type === 'decision' ? 'w-20 h-20' : ''}
      `}>
        <span className={`text-white text-xs font-medium text-center px-2 ${node.type === 'decision' ? '-rotate-45' : ''}`}>
          {node.label}
        </span>
      </div>
      
      {/* Connection points */}
      <div className="absolute -top-1.5 left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-white border-2 border-zinc-900 opacity-0 hover:opacity-100 transition-opacity" />
      <div className="absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-white border-2 border-zinc-900 opacity-0 hover:opacity-100 transition-opacity" />
      <div className="absolute top-1/2 -left-1.5 -translate-y-1/2 w-3 h-3 rounded-full bg-white border-2 border-zinc-900 opacity-0 hover:opacity-100 transition-opacity" />
      <div className="absolute top-1/2 -right-1.5 -translate-y-1/2 w-3 h-3 rounded-full bg-white border-2 border-zinc-900 opacity-0 hover:opacity-100 transition-opacity" />
    </div>
  );
}

// Connection line component
function ConnectionLine({ from, to, scale }) {
  const fromX = (from.x + 64) * scale; // center of node
  const fromY = (from.y + 40) * scale; // bottom of node
  const toX = (to.x + 64) * scale;
  const toY = to.y * scale;
  
  // Calculate control points for a smooth curve
  const midY = (fromY + toY) / 2;
  
  return (
    <svg className="absolute inset-0 pointer-events-none" style={{ overflow: 'visible' }}>
      <defs>
        <marker
          id="arrowhead"
          markerWidth="10"
          markerHeight="7"
          refX="9"
          refY="3.5"
          orient="auto"
        >
          <polygon
            points="0 0, 10 3.5, 0 7"
            fill="rgba(255,255,255,0.5)"
          />
        </marker>
      </defs>
      <path
        d={`M ${fromX} ${fromY + 8} C ${fromX} ${midY}, ${toX} ${midY}, ${toX} ${toY - 8}`}
        fill="none"
        stroke="rgba(255,255,255,0.3)"
        strokeWidth="2"
        markerEnd="url(#arrowhead)"
      />
    </svg>
  );
}

// Main View Component
function FlowchartMainView({ panelState, updateState, isFocused }) {
  const [nodes, setNodes] = useState(panelState?.nodes || [
    { id: '1', type: 'start', label: 'Start', x: 200, y: 50 },
    { id: '2', type: 'process', label: 'Process Data', x: 180, y: 150 },
    { id: '3', type: 'decision', label: 'Valid?', x: 196, y: 260 },
    { id: '4', type: 'process', label: 'Handle Error', x: 50, y: 380 },
    { id: '5', type: 'process', label: 'Continue', x: 300, y: 380 },
    { id: '6', type: 'end', label: 'End', x: 200, y: 500 },
  ]);
  
  const [connections, setConnections] = useState(panelState?.connections || [
    { id: 'c1', from: '1', to: '2' },
    { id: 'c2', from: '2', to: '3' },
    { id: 'c3', from: '3', to: '4' },
    { id: 'c4', from: '3', to: '5' },
    { id: 'c5', from: '4', to: '6' },
    { id: 'c6', from: '5', to: '6' },
  ]);
  
  const [selectedNodeId, setSelectedNodeId] = useState(null);
  const [tool, setTool] = useState('select');
  const [scale, setScale] = useState(1);
  
  const handleNodeDrag = useCallback((nodeId, newPos) => {
    setNodes(prev => {
      const updated = prev.map(n => 
        n.id === nodeId ? { ...n, ...newPos } : n
      );
      updateState?.({ nodes: updated, connections });
      return updated;
    });
  }, [connections, updateState]);
  
  const addNode = (type) => {
    const newNode = {
      id: `node-${Date.now()}`,
      type,
      label: type.charAt(0).toUpperCase() + type.slice(1),
      x: 150 + Math.random() * 100,
      y: 100 + Math.random() * 200,
    };
    const updated = [...nodes, newNode];
    setNodes(updated);
    setSelectedNodeId(newNode.id);
    updateState?.({ nodes: updated, connections });
  };
  
  const deleteSelected = () => {
    if (selectedNodeId) {
      const updatedNodes = nodes.filter(n => n.id !== selectedNodeId);
      const updatedConnections = connections.filter(c => c.from !== selectedNodeId && c.to !== selectedNodeId);
      setNodes(updatedNodes);
      setConnections(updatedConnections);
      setSelectedNodeId(null);
      updateState?.({ nodes: updatedNodes, connections: updatedConnections });
    }
  };
  
  const getNodeById = (id) => nodes.find(n => n.id === id);

  return (
    <div className="flex flex-col h-full">
      {/* Toolbar */}
      <div className="flex items-center gap-2 p-3 border-b border-white/10 bg-black/20">
        {/* Tools */}
        <div className="flex items-center gap-1 p-1 rounded-lg bg-black/30">
          <button
            onClick={() => setTool('select')}
            className={`p-2 rounded-md transition-all ${tool === 'select' ? 'bg-violet-500 text-white' : 'text-zinc-400 hover:text-white hover:bg-white/10'}`}
            title="Select"
          >
            <MousePointer size={16} />
          </button>
          <button
            onClick={() => setTool('pan')}
            className={`p-2 rounded-md transition-all ${tool === 'pan' ? 'bg-violet-500 text-white' : 'text-zinc-400 hover:text-white hover:bg-white/10'}`}
            title="Pan"
          >
            <Move size={16} />
          </button>
        </div>
        
        <div className="w-px h-6 bg-white/10" />
        
        {/* Add nodes */}
        <div className="flex items-center gap-1">
          <button
            onClick={() => addNode('start')}
            className="p-2 rounded-md text-green-400 hover:bg-green-500/10 transition-all"
            title="Add Start"
          >
            <Play size={16} />
          </button>
          <button
            onClick={() => addNode('process')}
            className="p-2 rounded-md text-blue-400 hover:bg-blue-500/10 transition-all"
            title="Add Process"
          >
            <Square size={16} />
          </button>
          <button
            onClick={() => addNode('decision')}
            className="p-2 rounded-md text-amber-400 hover:bg-amber-500/10 transition-all"
            title="Add Decision"
          >
            <Diamond size={16} />
          </button>
          <button
            onClick={() => addNode('end')}
            className="p-2 rounded-md text-red-400 hover:bg-red-500/10 transition-all"
            title="Add End"
          >
            <Circle size={16} />
          </button>
        </div>
        
        <div className="w-px h-6 bg-white/10" />
        
        {/* Actions */}
        <button
          onClick={deleteSelected}
          disabled={!selectedNodeId}
          className="p-2 rounded-md text-zinc-400 hover:text-red-400 hover:bg-red-500/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all"
          title="Delete Selected"
        >
          <Trash2 size={16} />
        </button>
        
        {/* Spacer */}
        <div className="flex-1" />
        
        {/* Zoom controls */}
        <div className="flex items-center gap-1">
          <button
            onClick={() => setScale(s => Math.max(0.5, s - 0.1))}
            className="p-2 rounded-md text-zinc-400 hover:text-white hover:bg-white/10 transition-all"
          >
            <ZoomOut size={16} />
          </button>
          <span className="text-xs text-zinc-500 w-12 text-center">{Math.round(scale * 100)}%</span>
          <button
            onClick={() => setScale(s => Math.min(2, s + 0.1))}
            className="p-2 rounded-md text-zinc-400 hover:text-white hover:bg-white/10 transition-all"
          >
            <ZoomIn size={16} />
          </button>
        </div>
      </div>
      
      {/* Canvas */}
      <div 
        className={`flex-1 relative overflow-hidden dot-pattern ${isFocused ? 'ring-1 ring-violet-500/30 ring-inset' : ''}`}
        onClick={() => setSelectedNodeId(null)}
      >
        {/* Connections */}
        {connections.map(conn => {
          const fromNode = getNodeById(conn.from);
          const toNode = getNodeById(conn.to);
          if (!fromNode || !toNode) return null;
          return <ConnectionLine key={conn.id} from={fromNode} to={toNode} scale={scale} />;
        })}
        
        {/* Nodes */}
        {nodes.map(node => (
          <FlowNode
            key={node.id}
            node={node}
            isSelected={selectedNodeId === node.id}
            onSelect={() => setSelectedNodeId(node.id)}
            onDrag={handleNodeDrag}
            scale={scale}
          />
        ))}
        
        {/* Empty state */}
        {nodes.length === 0 && (
          <div className="absolute inset-0 flex flex-col items-center justify-center text-zinc-500 pointer-events-none">
            <GitBranch size={48} className="mb-4 opacity-20" />
            <p className="text-sm">Click the toolbar to add flowchart nodes</p>
          </div>
        )}
      </div>
    </div>
  );
}

// Panel Definition
const DummyFlowchartPanel = createPanelDefinition({
  id: 'flowchart',
  name: 'Flowchart Editor',
  description: 'Create and edit flowcharts',
  icon: GitBranch,
  category: PanelCategories.CREATION,
  accentColor: 'blue',
  
  renderMainView: (props) => <FlowchartMainView {...props} />,
  
  getInitialState: () => ({
    nodes: [
      { id: '1', type: 'start', label: 'Start', x: 200, y: 50 },
      { id: '2', type: 'process', label: 'Process', x: 180, y: 150 },
      { id: '3', type: 'end', label: 'End', x: 200, y: 270 },
    ],
    connections: [
      { id: 'c1', from: '1', to: '2' },
      { id: 'c2', from: '2', to: '3' },
    ],
  }),
  
  getLLMContext: async (panelState) => {
    // Convert to Mermaid-like DSL
    const nodes = panelState?.nodes || [];
    const connections = panelState?.connections || [];
    
    let mermaid = 'graph TD\n';
    nodes.forEach(n => {
      const shape = n.type === 'decision' ? `{${n.label}}` : 
                    n.type === 'start' || n.type === 'end' ? `((${n.label}))` : 
                    `[${n.label}]`;
      mermaid += `  ${n.id}${shape}\n`;
    });
    connections.forEach(c => {
      mermaid += `  ${c.from} --> ${c.to}\n`;
    });
    
    return {
      contentType: 'dsl/flowchart',
      data: {
        type: 'flowchart',
        mermaid,
        nodes,
        connections,
      },
      schemaVersion: '1.0',
    };
  },
  
  applyLLMChange: async (panelState, updateState, dslDiff) => {
    if (dslDiff.nodes && dslDiff.connections) {
      updateState({ nodes: dslDiff.nodes, connections: dslDiff.connections });
      return true;
    }
    return false;
  },
  
  dropZone: {
    acceptTypes: [ContentTypes.TEXT_PLAIN, ContentTypes.DSL_FLOWCHART, ContentTypes.JSON],
    onDrop: (data, panelState, updateState) => {
      console.log('Flowchart received drop:', data);
    },
  },
  
  exportFormats: [
    { format: 'svg', label: 'SVG Vector', mimeType: 'image/svg+xml' },
    { format: 'png', label: 'PNG Image', mimeType: 'image/png' },
    { format: 'mermaid', label: 'Mermaid DSL', mimeType: 'text/plain' },
    { format: 'json', label: 'JSON Data', mimeType: 'application/json' },
  ],
  
  actions: [
    { id: 'flowchart.add-node', label: 'Add Node', category: 'Flowchart' },
    { id: 'flowchart.auto-layout', label: 'Auto Layout', category: 'Flowchart' },
    { id: 'flowchart.export', label: 'Export Flowchart', category: 'Flowchart' },
  ],
});

export default DummyFlowchartPanel;
```

`Nexus/src/panels/DummyKanbanPanel.jsx`:

```jsx
import React, { useState } from 'react';
import { Kanban, Plus, MoreHorizontal, Trash2, Edit2, GripVertical, Tag, User, Calendar } from 'lucide-react';
import { createPanelDefinition, PanelCategories, ContentTypes } from './BasePanelInterface';

/**
 * Dummy Kanban Panel - Demonstrates the panel interface for Kanban boards
 */

// Task card component
function TaskCard({ task, onDelete, onEdit }) {
  const priorityColors = {
    high: 'bg-red-500',
    medium: 'bg-amber-500',
    low: 'bg-green-500',
  };
  
  return (
    <div className="group p-3 rounded-xl bg-zinc-800/50 border border-white/5 hover:border-white/10 cursor-grab active:cursor-grabbing transition-all hover:shadow-lg">
      <div className="flex items-start justify-between gap-2">
        <h4 className="text-sm font-medium text-zinc-200 flex-1">{task.title}</h4>
        <div className="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
          <button
            onClick={onEdit}
            className="p-1 rounded text-zinc-500 hover:text-white hover:bg-white/10"
          >
            <Edit2 size={12} />
          </button>
          <button
            onClick={onDelete}
            className="p-1 rounded text-zinc-500 hover:text-red-400 hover:bg-red-500/10"
          >
            <Trash2 size={12} />
          </button>
        </div>
      </div>
      
      {task.description && (
        <p className="text-xs text-zinc-500 mt-1 line-clamp-2">{task.description}</p>
      )}
      
      <div className="flex items-center gap-2 mt-3">
        {task.priority && (
          <span className={`w-2 h-2 rounded-full ${priorityColors[task.priority]}`} title={`${task.priority} priority`} />
        )}
        {task.tags?.map((tag, i) => (
          <span key={i} className="px-2 py-0.5 text-xs rounded-full bg-violet-500/20 text-violet-300">
            {tag}
          </span>
        ))}
        {task.assignee && (
          <span className="ml-auto flex items-center gap-1 text-xs text-zinc-500">
            <User size={10} />
            {task.assignee}
          </span>
        )}
      </div>
    </div>
  );
}

// Column component
function KanbanColumn({ column, tasks, onAddTask, onDeleteTask, onEditColumn }) {
  const [isAdding, setIsAdding] = useState(false);
  const [newTaskTitle, setNewTaskTitle] = useState('');
  
  const handleAddTask = () => {
    if (newTaskTitle.trim()) {
      onAddTask(newTaskTitle.trim());
      setNewTaskTitle('');
      setIsAdding(false);
    }
  };
  
  const columnColors = {
    todo: 'from-zinc-500 to-zinc-600',
    'in-progress': 'from-blue-500 to-blue-600',
    review: 'from-amber-500 to-amber-600',
    done: 'from-green-500 to-green-600',
  };
  
  return (
    <div className="flex-shrink-0 w-72 flex flex-col">
      {/* Column header */}
      <div className="flex items-center justify-between p-3 rounded-t-xl bg-zinc-800/80 border border-white/5 border-b-0">
        <div className="flex items-center gap-2">
          <div className={`w-3 h-3 rounded-full bg-gradient-to-br ${columnColors[column.id] || columnColors.todo}`} />
          <h3 className="text-sm font-semibold text-zinc-200">{column.title}</h3>
          <span className="px-1.5 py-0.5 text-xs rounded bg-white/10 text-zinc-400">
            {tasks.length}
          </span>
        </div>
        <button className="p-1 rounded text-zinc-500 hover:text-white hover:bg-white/10">
          <MoreHorizontal size={14} />
        </button>
      </div>
      
      {/* Tasks list */}
      <div className="flex-1 p-2 space-y-2 rounded-b-xl bg-zinc-900/50 border border-white/5 border-t-0 overflow-y-auto min-h-[200px]">
        {tasks.map(task => (
          <TaskCard 
            key={task.id} 
            task={task}
            onDelete={() => onDeleteTask(task.id)}
            onEdit={() => {}}
          />
        ))}
        
        {/* Add task form */}
        {isAdding ? (
          <div className="p-2 rounded-xl bg-zinc-800 border border-violet-500/30">
            <input
              type="text"
              value={newTaskTitle}
              onChange={(e) => setNewTaskTitle(e.target.value)}
              onKeyDown={(e) => e.key === 'Enter' && handleAddTask()}
              placeholder="Task title..."
              className="w-full text-sm text-white placeholder-zinc-500 bg-transparent"
              autoFocus
            />
            <div className="flex items-center gap-2 mt-2">
              <button
                onClick={handleAddTask}
                className="px-3 py-1 text-xs font-medium rounded bg-violet-500 text-white hover:bg-violet-400"
              >
                Add
              </button>
              <button
                onClick={() => { setIsAdding(false); setNewTaskTitle(''); }}
                className="px-3 py-1 text-xs font-medium rounded text-zinc-400 hover:text-white"
              >
                Cancel
              </button>
            </div>
          </div>
        ) : (
          <button
            onClick={() => setIsAdding(true)}
            className="w-full flex items-center justify-center gap-2 p-2 rounded-xl border-2 border-dashed border-zinc-700 text-zinc-500 hover:border-zinc-600 hover:text-zinc-400 transition-colors"
          >
            <Plus size={14} />
            <span className="text-sm">Add task</span>
          </button>
        )}
      </div>
    </div>
  );
}

// Main View Component
function KanbanMainView({ panelState, updateState, isFocused }) {
  const [columns] = useState([
    { id: 'todo', title: 'To Do' },
    { id: 'in-progress', title: 'In Progress' },
    { id: 'review', title: 'Review' },
    { id: 'done', title: 'Done' },
  ]);
  
  const [tasks, setTasks] = useState(panelState?.tasks || [
    { id: '1', title: 'Design panel interface', description: 'Create the IStudioPanel interface', columnId: 'done', priority: 'high', tags: ['design'] },
    { id: '2', title: 'Implement Canvas panel', description: 'Build the shape drawing canvas', columnId: 'in-progress', priority: 'high', tags: ['dev'], assignee: 'You' },
    { id: '3', title: 'Add drag & drop', description: 'Enable cross-panel drag and drop', columnId: 'todo', priority: 'medium', tags: ['feature'] },
    { id: '4', title: 'Write documentation', description: 'Document the panel interface', columnId: 'todo', priority: 'low', tags: ['docs'] },
    { id: '5', title: 'Review AI context flow', description: 'Check the getLLMContext implementation', columnId: 'review', priority: 'medium', tags: ['review'] },
  ]);
  
  const getColumnTasks = (columnId) => tasks.filter(t => t.columnId === columnId);
  
  const addTask = (columnId, title) => {
    const newTask = {
      id: `task-${Date.now()}`,
      title,
      description: '',
      columnId,
      priority: 'medium',
      tags: [],
    };
    const updated = [...tasks, newTask];
    setTasks(updated);
    updateState?.({ tasks: updated });
  };
  
  const deleteTask = (taskId) => {
    const updated = tasks.filter(t => t.id !== taskId);
    setTasks(updated);
    updateState?.({ tasks: updated });
  };

  return (
    <div className="flex flex-col h-full">
      {/* Header */}
      <div className="flex items-center justify-between p-4 border-b border-white/5">
        <div className="flex items-center gap-4">
          <h2 className="text-sm font-semibold text-zinc-200">Project Board</h2>
          <span className="text-xs text-zinc-500">{tasks.length} tasks</span>
        </div>
        <div className="flex items-center gap-2">
          <button className="px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 transition-colors flex items-center gap-1.5">
            <Plus size={12} />
            Add Column
          </button>
        </div>
      </div>
      
      {/* Board */}
      <div className="flex-1 overflow-x-auto p-4">
        <div className="flex gap-4 h-full min-w-max">
          {columns.map(column => (
            <KanbanColumn
              key={column.id}
              column={column}
              tasks={getColumnTasks(column.id)}
              onAddTask={(title) => addTask(column.id, title)}
              onDeleteTask={deleteTask}
            />
          ))}
        </div>
      </div>
    </div>
  );
}

// Panel Definition
const DummyKanbanPanel = createPanelDefinition({
  id: 'kanban',
  name: 'Kanban Board',
  description: 'Manage tasks with a Kanban board',
  icon: Kanban,
  category: PanelCategories.DATA,
  accentColor: 'green',
  
  renderMainView: (props) => <KanbanMainView {...props} />,
  
  getInitialState: () => ({
    tasks: [
      { id: '1', title: 'Design panel interface', description: 'Create the IStudioPanel interface', columnId: 'done', priority: 'high', tags: ['design'] },
      { id: '2', title: 'Implement Canvas panel', columnId: 'in-progress', priority: 'high', tags: ['dev'] },
      { id: '3', title: 'Add drag & drop', columnId: 'todo', priority: 'medium', tags: ['feature'] },
    ],
  }),
  
  getLLMContext: async (panelState) => {
    const tasks = panelState?.tasks || [];
    const byColumn = {
      todo: tasks.filter(t => t.columnId === 'todo'),
      'in-progress': tasks.filter(t => t.columnId === 'in-progress'),
      review: tasks.filter(t => t.columnId === 'review'),
      done: tasks.filter(t => t.columnId === 'done'),
    };
    
    return {
      contentType: 'dsl/kanban',
      data: {
        type: 'kanban',
        totalTasks: tasks.length,
        columns: byColumn,
      },
      schemaVersion: '1.0',
    };
  },
  
  applyLLMChange: async (panelState, updateState, dslDiff) => {
    if (dslDiff.addTask) {
      const tasks = [...(panelState?.tasks || []), {
        id: `task-${Date.now()}`,
        ...dslDiff.addTask,
      }];
      updateState({ tasks });
      return true;
    }
    return false;
  },
  
  dropZone: {
    acceptTypes: [ContentTypes.TEXT_PLAIN, ContentTypes.JSON],
    onDrop: (data, panelState, updateState) => {
      console.log('Kanban received drop:', data);
    },
  },
  
  exportFormats: [
    { format: 'json', label: 'JSON', mimeType: 'application/json' },
    { format: 'csv', label: 'CSV', mimeType: 'text/csv' },
  ],
  
  actions: [
    { id: 'kanban.add-task', label: 'Add New Task', category: 'Kanban' },
    { id: 'kanban.add-column', label: 'Add New Column', category: 'Kanban' },
    { id: 'kanban.export', label: 'Export Board', category: 'Kanban' },
  ],
});

export default DummyKanbanPanel;
```

`Nexus/src/panels/DummyNotesPanel.jsx`:

```jsx
import React, { useState } from 'react';
import { FileText, Plus, Search, Trash2, GripVertical, ChevronRight, File, Folder, Star, Clock } from 'lucide-react';
import { createPanelDefinition, PanelCategories, ContentTypes } from './BasePanelInterface';

/**
 * Dummy Notes Panel - Demonstrates the panel interface for source/notes management
 */

// Note item component
function NoteItem({ note, isSelected, onSelect, onDelete }) {
  return (
    <div
      onClick={onSelect}
      className={`
        group flex items-start gap-3 p-3 rounded-xl cursor-pointer transition-all
        ${isSelected 
          ? 'bg-amber-500/10 border border-amber-500/30' 
          : 'hover:bg-white/5 border border-transparent'
        }
      `}
    >
      <div className="p-2 rounded-lg bg-amber-500/10">
        <File size={14} className="text-amber-500" />
      </div>
      
      <div className="flex-1 min-w-0">
        <h4 className={`text-sm font-medium truncate ${isSelected ? 'text-amber-400' : 'text-zinc-200'}`}>
          {note.title}
        </h4>
        <p className="text-xs text-zinc-500 mt-0.5 line-clamp-2">{note.content}</p>
        <div className="flex items-center gap-2 mt-2">
          <span className="text-xs text-zinc-600 flex items-center gap-1">
            <Clock size={10} />
            {new Date(note.updatedAt).toLocaleDateString()}
          </span>
          {note.starred && <Star size={10} className="text-amber-500 fill-amber-500" />}
        </div>
      </div>
      
      <button
        onClick={(e) => { e.stopPropagation(); onDelete(); }}
        className="opacity-0 group-hover:opacity-100 p-1.5 rounded-md text-zinc-500 hover:text-red-400 hover:bg-red-500/10 transition-all"
      >
        <Trash2 size={14} />
      </button>
    </div>
  );
}

// Main View Component
function NotesMainView({ panelState, updateState, isFocused }) {
  const [notes, setNotes] = useState(panelState?.notes || [
    { id: '1', title: 'Project Requirements', content: 'Build an AI-powered graphical IDE that supports flowcharts, Kanban boards, and more...', starred: true, updatedAt: Date.now() - 86400000 },
    { id: '2', title: 'Design Inspiration', content: 'Look at NotebookLM for panel layout ideas. Consider glass morphism effects...', starred: false, updatedAt: Date.now() - 172800000 },
    { id: '3', title: 'API Notes', content: 'The backend will use a DSL for unified modeling across all graphical types...', starred: false, updatedAt: Date.now() - 259200000 },
  ]);
  const [selectedId, setSelectedId] = useState(null);
  const [searchQuery, setSearchQuery] = useState('');
  const [editingContent, setEditingContent] = useState('');
  
  const selectedNote = notes.find(n => n.id === selectedId);
  
  const filteredNotes = notes.filter(note => 
    note.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
    note.content.toLowerCase().includes(searchQuery.toLowerCase())
  );
  
  const addNote = () => {
    const newNote = {
      id: `note-${Date.now()}`,
      title: 'Untitled Note',
      content: '',
      starred: false,
      updatedAt: Date.now(),
    };
    const updated = [newNote, ...notes];
    setNotes(updated);
    setSelectedId(newNote.id);
    setEditingContent('');
    updateState?.({ notes: updated });
  };
  
  const deleteNote = (id) => {
    const updated = notes.filter(n => n.id !== id);
    setNotes(updated);
    if (selectedId === id) {
      setSelectedId(null);
      setEditingContent('');
    }
    updateState?.({ notes: updated });
  };
  
  const updateNote = (id, changes) => {
    const updated = notes.map(n => 
      n.id === id ? { ...n, ...changes, updatedAt: Date.now() } : n
    );
    setNotes(updated);
    updateState?.({ notes: updated });
  };
  
  const handleContentChange = (content) => {
    setEditingContent(content);
    if (selectedId) {
      updateNote(selectedId, { content });
    }
  };
  
  const handleTitleChange = (title) => {
    if (selectedId) {
      updateNote(selectedId, { title });
    }
  };

  return (
    <div className="flex h-full">
      {/* Notes list */}
      <div className="w-64 flex-shrink-0 border-r border-white/5 flex flex-col">
        {/* Search */}
        <div className="p-3">
          <div className="flex items-center gap-2 px-3 py-2 rounded-lg bg-black/30 border border-white/5">
            <Search size={14} className="text-zinc-500" />
            <input
              type="text"
              placeholder="Search notes..."
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              className="flex-1 text-sm text-white placeholder-zinc-500"
            />
          </div>
        </div>
        
        {/* Add button */}
        <div className="px-3 pb-2">
          <button
            onClick={addNote}
            className="w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 text-amber-400 hover:bg-amber-500/20 transition-colors text-sm font-medium"
          >
            <Plus size={14} />
            New Note
          </button>
        </div>
        
        {/* Notes list */}
        <div className="flex-1 overflow-y-auto px-2 space-y-1 pb-4">
          {filteredNotes.map(note => (
            <NoteItem
              key={note.id}
              note={note}
              isSelected={selectedId === note.id}
              onSelect={() => {
                setSelectedId(note.id);
                setEditingContent(note.content);
              }}
              onDelete={() => deleteNote(note.id)}
            />
          ))}
          
          {filteredNotes.length === 0 && (
            <div className="text-center py-8 text-zinc-500">
              <FileText size={32} className="mx-auto mb-2 opacity-30" />
              <p className="text-sm">No notes found</p>
            </div>
          )}
        </div>
      </div>
      
      {/* Note editor */}
      <div className="flex-1 flex flex-col">
        {selectedNote ? (
          <>
            {/* Note header */}
            <div className="p-4 border-b border-white/5">
              <input
                type="text"
                value={selectedNote.title}
                onChange={(e) => handleTitleChange(e.target.value)}
                className="text-lg font-semibold text-white bg-transparent w-full"
                placeholder="Note title..."
              />
              <div className="flex items-center gap-3 mt-2 text-xs text-zinc-500">
                <span className="flex items-center gap-1">
                  <Clock size={12} />
                  Last edited {new Date(selectedNote.updatedAt).toLocaleString()}
                </span>
                <button
                  onClick={() => updateNote(selectedId, { starred: !selectedNote.starred })}
                  className={`flex items-center gap-1 ${selectedNote.starred ? 'text-amber-500' : ''}`}
                >
                  <Star size={12} className={selectedNote.starred ? 'fill-amber-500' : ''} />
                  {selectedNote.starred ? 'Starred' : 'Star'}
                </button>
              </div>
            </div>
            
            {/* Note content */}
            <textarea
              value={editingContent}
              onChange={(e) => handleContentChange(e.target.value)}
              placeholder="Start writing..."
              className="flex-1 p-4 text-sm text-zinc-200 bg-transparent resize-none leading-relaxed"
            />
          </>
        ) : (
          <div className="flex-1 flex flex-col items-center justify-center text-zinc-500">
            <FileText size={48} className="mb-4 opacity-20" />
            <p className="text-sm">Select a note or create a new one</p>
          </div>
        )}
      </div>
    </div>
  );
}

// Panel Definition
const DummyNotesPanel = createPanelDefinition({
  id: 'notes',
  name: 'Source Notes',
  description: 'Manage reference materials and notes',
  icon: FileText,
  category: PanelCategories.DATA,
  accentColor: 'amber',
  
  renderMainView: (props) => <NotesMainView {...props} />,
  
  getInitialState: () => ({
    notes: [
      { id: '1', title: 'Project Requirements', content: 'Build an AI-powered graphical IDE that supports flowcharts, Kanban boards, and more...', starred: true, updatedAt: Date.now() },
      { id: '2', title: 'Design Inspiration', content: 'Look at NotebookLM for panel layout ideas. Consider glass morphism effects...', starred: false, updatedAt: Date.now() - 86400000 },
    ],
  }),
  
  getLLMContext: async (panelState) => {
    const notes = panelState?.notes || [];
    return {
      contentType: 'text/plain',
      data: {
        type: 'notes',
        noteCount: notes.length,
        notes: notes.map(n => ({ title: n.title, content: n.content })),
      },
      schemaVersion: '1.0',
    };
  },
  
  applyLLMChange: async (panelState, updateState, dslDiff) => {
    if (dslDiff.addNote) {
      const notes = [...(panelState?.notes || []), {
        id: `note-${Date.now()}`,
        ...dslDiff.addNote,
        updatedAt: Date.now(),
      }];
      updateState({ notes });
      return true;
    }
    return false;
  },
  
  dropZone: {
    acceptTypes: [ContentTypes.TEXT_PLAIN, ContentTypes.TEXT_MARKDOWN, ContentTypes.JSON],
    onDrop: (data, panelState, updateState) => {
      console.log('Notes received drop:', data);
    },
  },
  
  exportFormats: [
    { format: 'md', label: 'Markdown', mimeType: 'text/markdown' },
    { format: 'json', label: 'JSON', mimeType: 'application/json' },
  ],
  
  actions: [
    { id: 'notes.new', label: 'Create New Note', category: 'Notes' },
    { id: 'notes.search', label: 'Search Notes', category: 'Notes' },
    { id: 'notes.export-all', label: 'Export All Notes', category: 'Notes' },
  ],
});

export default DummyNotesPanel;
```

`Nexus/src/panels/registry.js`:

```js
/**
 * Panel Registry - Central registry for all panel types
 * 
 * This allows dynamic registration of panel types,
 * making the IDE extensible without modifying core code.
 */

import DummyCanvasPanel from './DummyCanvasPanel';
import DummyChatPanel from './DummyChatPanel';
import DummyNotesPanel from './DummyNotesPanel';
import DummyKanbanPanel from './DummyKanbanPanel';
import DummyFlowchartPanel from './DummyFlowchartPanel';
import DummyCodePanel from './DummyCodePanel';

// Internal registry map
const panelRegistry = new Map();

/**
 * Register a panel type
 * @param {IStudioPanelDefinition} panelDefinition 
 */
export function registerPanel(panelDefinition) {
  if (panelRegistry.has(panelDefinition.id)) {
    console.warn(`Panel type "${panelDefinition.id}" is already registered. Overwriting.`);
  }
  panelRegistry.set(panelDefinition.id, panelDefinition);
}

/**
 * Get a panel definition by ID
 * @param {string} panelTypeId 
 * @returns {IStudioPanelDefinition | undefined}
 */
export function getPanelDefinition(panelTypeId) {
  return panelRegistry.get(panelTypeId);
}

/**
 * Get all registered panel types
 * @returns {IStudioPanelDefinition[]}
 */
export function getAllPanelDefinitions() {
  return Array.from(panelRegistry.values());
}

/**
 * Get panel types by category
 * @param {string} category 
 * @returns {IStudioPanelDefinition[]}
 */
export function getPanelsByCategory(category) {
  return getAllPanelDefinitions().filter(p => p.category === category);
}

/**
 * Check if a panel type is registered
 * @param {string} panelTypeId 
 * @returns {boolean}
 */
export function isPanelRegistered(panelTypeId) {
  return panelRegistry.has(panelTypeId);
}

/**
 * Unregister a panel type
 * @param {string} panelTypeId 
 */
export function unregisterPanel(panelTypeId) {
  panelRegistry.delete(panelTypeId);
}

/**
 * Get categories with their panels
 * @returns {Object<string, IStudioPanelDefinition[]>}
 */
export function getPanelsByCategories() {
  const categories = {};
  
  for (const panel of panelRegistry.values()) {
    if (!categories[panel.category]) {
      categories[panel.category] = [];
    }
    categories[panel.category].push(panel);
  }
  
  return categories;
}

// === Initialize with built-in panels ===
export function initializeBuiltInPanels() {
  registerPanel(DummyCanvasPanel);
  registerPanel(DummyChatPanel);
  registerPanel(DummyNotesPanel);
  registerPanel(DummyKanbanPanel);
  registerPanel(DummyFlowchartPanel);
  registerPanel(DummyCodePanel);
}

// Initialize on module load
initializeBuiltInPanels();

export default {
  registerPanel,
  getPanelDefinition,
  getAllPanelDefinitions,
  getPanelsByCategory,
  isPanelRegistered,
  unregisterPanel,
  getPanelsByCategories,
};
```

`Nexus/tailwind.config.js`:

```js
/** @type {import('tailwindcss').Config} */
export default {
    content: [
      "./index.html",
      "./src/**/*.{js,ts,jsx,tsx}",
    ],
    theme: {
      extend: {
        colors: {
          // Deep space palette
          void: {
            50: '#f7f7f8',
            100: '#eeeef0',
            200: '#d9d9de',
            300: '#b8b8c1',
            400: '#91919f',
            500: '#737384',
            600: '#5d5d6c',
            700: '#4c4c58',
            800: '#41414b',
            900: '#393941',
            950: '#18181b',
          },
          // Accent colors
          plasma: {
            400: '#a78bfa',
            500: '#8b5cf6',
            600: '#7c3aed',
          },
          neon: {
            cyan: '#22d3ee',
            pink: '#f472b6',
            green: '#4ade80',
            orange: '#fb923c',
            blue: '#60a5fa',
          }
        },
        fontFamily: {
          sans: ['Inter', 'system-ui', 'sans-serif'],
          mono: ['JetBrains Mono', 'Fira Code', 'monospace'],
          display: ['Space Grotesk', 'sans-serif'],
        },
        animation: {
          'glow-pulse': 'glow-pulse 2s ease-in-out infinite',
          'slide-up': 'slide-up 0.3s ease-out',
          'slide-down': 'slide-down 0.3s ease-out',
          'fade-in': 'fade-in 0.2s ease-out',
          'scale-in': 'scale-in 0.2s ease-out',
          'shimmer': 'shimmer 2s linear infinite',
        },
        keyframes: {
          'glow-pulse': {
            '0%, 100%': { boxShadow: '0 0 20px rgba(139, 92, 246, 0.3)' },
            '50%': { boxShadow: '0 0 40px rgba(139, 92, 246, 0.6)' },
          },
          'slide-up': {
            '0%': { transform: 'translateY(10px)', opacity: '0' },
            '100%': { transform: 'translateY(0)', opacity: '1' },
          },
          'slide-down': {
            '0%': { transform: 'translateY(-10px)', opacity: '0' },
            '100%': { transform: 'translateY(0)', opacity: '1' },
          },
          'fade-in': {
            '0%': { opacity: '0' },
            '100%': { opacity: '1' },
          },
          'scale-in': {
            '0%': { transform: 'scale(0.95)', opacity: '0' },
            '100%': { transform: 'scale(1)', opacity: '1' },
          },
          'shimmer': {
            '0%': { backgroundPosition: '-200% 0' },
            '100%': { backgroundPosition: '200% 0' },
          },
        },
        backdropBlur: {
          xs: '2px',
        },
        boxShadow: {
          'glow-sm': '0 0 10px rgba(139, 92, 246, 0.3)',
          'glow': '0 0 20px rgba(139, 92, 246, 0.4)',
          'glow-lg': '0 0 40px rgba(139, 92, 246, 0.5)',
          'inner-glow': 'inset 0 0 20px rgba(139, 92, 246, 0.1)',
        }
      },
    },
    plugins: [],
  }
```

`Nexus/vite.config.js`:

```js
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    port: 5173,
    host: true
  }
})
```